"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@toruslabs";
exports.ids = ["vendor-chunks/@toruslabs"];
exports.modules = {

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseController: () => (/* binding */ BaseController)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _web3auth_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @web3auth/auth */ \"(ssr)/./node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js\");\n\n\n\n\n/**\n * Controller class that provides configuration, state management, and subscriptions\n */\nclass BaseController extends _web3auth_auth__WEBPACK_IMPORTED_MODULE_2__.SafeEventEmitter {\n  /**\n   * Creates a BaseController instance. Both initial state and initial\n   * configuration options are merged with defaults upon initialization.\n   *\n   * @param config - Initial options used to configure this controller\n   * @param state - Initial state to set on this controller\n   */\n  constructor({\n    config = {},\n    state = {}\n  }) {\n    super();\n    // Use assign since generics can't be spread: https://git.io/vpRhY\n    /**\n     * Default options used to configure this controller\n     */\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"defaultConfig\", {});\n    /**\n     * Default state set on this controller\n     */\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"defaultState\", {});\n    /**\n     * Determines if listeners are notified of state changes\n     */\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"disabled\", false);\n    /**\n     * Name of this controller used during composition\n     */\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"name\", \"BaseController\");\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"initialConfig\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"initialState\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"internalConfig\", this.defaultConfig);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"internalState\", this.defaultState);\n    this.initialState = state;\n    this.initialConfig = config;\n  }\n\n  /**\n   * Retrieves current controller configuration options\n   *\n   * @returns - Current configuration\n   */\n  get config() {\n    return this.internalConfig;\n  }\n\n  /**\n   * Retrieves current controller state\n   *\n   * @returns - Current state\n   */\n  get state() {\n    return this.internalState;\n  }\n\n  /**\n   * Updates controller configuration\n   *\n   * @param config - New configuration options\n   * @param overwrite - Overwrite config instead of merging\n   * @param fullUpdate - Boolean that defines if the update is partial or not\n   */\n  configure(config, overwrite = false, fullUpdate = true) {\n    if (fullUpdate) {\n      this.internalConfig = overwrite ? config : Object.assign(this.internalConfig, config);\n      for (const key in this.internalConfig) {\n        if (typeof this.internalConfig[key] !== \"undefined\") {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          this[key] = this.internalConfig[key];\n        }\n      }\n    } else {\n      for (const key in config) {\n        /* istanbul ignore else */\n        if (typeof this.internalConfig[key] !== \"undefined\") {\n          this.internalConfig[key] = config[key];\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          this[key] = config[key];\n        }\n      }\n    }\n  }\n\n  /**\n   * Updates controller state\n   *\n   * @param state - New state\n   * @param overwrite - Overwrite state instead of merging\n   */\n  update(state, overwrite = false) {\n    this.internalState = overwrite ? _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, state) : _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, this.internalState), state);\n    this.emit(\"store\", this.internalState);\n  }\n\n  /**\n   * Enables the controller. This sets each config option as a member\n   * variable on this instance and triggers any defined setters. This\n   * also sets initial state and triggers any listeners.\n   *\n   * @returns - This controller instance\n   */\n  initialize() {\n    this.internalState = this.defaultState;\n    this.internalConfig = this.defaultConfig;\n    this.configure(this.initialConfig);\n    this.update(this.initialState);\n    return this;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS9CYXNlQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFDRztBQUNsQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDREQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFlLDBCQUEwQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFlLHlCQUF5QjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZTtBQUNuQixJQUFJLDRFQUFlO0FBQ25CLElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZTtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDJFQUFhLEdBQUcsV0FBVywyRUFBYSxDQUFDLDJFQUFhLEdBQUc7QUFDOUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS9CYXNlQ29udHJvbGxlci5qcz9mNWY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMic7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgU2FmZUV2ZW50RW1pdHRlciB9IGZyb20gJ0B3ZWIzYXV0aC9hdXRoJztcblxuLyoqXG4gKiBDb250cm9sbGVyIGNsYXNzIHRoYXQgcHJvdmlkZXMgY29uZmlndXJhdGlvbiwgc3RhdGUgbWFuYWdlbWVudCwgYW5kIHN1YnNjcmlwdGlvbnNcbiAqL1xuY2xhc3MgQmFzZUNvbnRyb2xsZXIgZXh0ZW5kcyBTYWZlRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCYXNlQ29udHJvbGxlciBpbnN0YW5jZS4gQm90aCBpbml0aWFsIHN0YXRlIGFuZCBpbml0aWFsXG4gICAqIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhcmUgbWVyZ2VkIHdpdGggZGVmYXVsdHMgdXBvbiBpbml0aWFsaXphdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNvbmZpZyAtIEluaXRpYWwgb3B0aW9ucyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGlzIGNvbnRyb2xsZXJcbiAgICogQHBhcmFtIHN0YXRlIC0gSW5pdGlhbCBzdGF0ZSB0byBzZXQgb24gdGhpcyBjb250cm9sbGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29uZmlnID0ge30sXG4gICAgc3RhdGUgPSB7fVxuICB9KSB7XG4gICAgc3VwZXIoKTtcbiAgICAvLyBVc2UgYXNzaWduIHNpbmNlIGdlbmVyaWNzIGNhbid0IGJlIHNwcmVhZDogaHR0cHM6Ly9naXQuaW8vdnBSaFlcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMgdXNlZCB0byBjb25maWd1cmUgdGhpcyBjb250cm9sbGVyXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVmYXVsdENvbmZpZ1wiLCB7fSk7XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzdGF0ZSBzZXQgb24gdGhpcyBjb250cm9sbGVyXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVmYXVsdFN0YXRlXCIsIHt9KTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGxpc3RlbmVycyBhcmUgbm90aWZpZWQgb2Ygc3RhdGUgY2hhbmdlc1xuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoaXMgY29udHJvbGxlciB1c2VkIGR1cmluZyBjb21wb3NpdGlvblxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwgXCJCYXNlQ29udHJvbGxlclwiKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0aWFsQ29uZmlnXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdGlhbFN0YXRlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW50ZXJuYWxDb25maWdcIiwgdGhpcy5kZWZhdWx0Q29uZmlnKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnRlcm5hbFN0YXRlXCIsIHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICB0aGlzLmluaXRpYWxTdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuaW5pdGlhbENvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgY3VycmVudCBjb250cm9sbGVyIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKlxuICAgKiBAcmV0dXJucyAtIEN1cnJlbnQgY29uZmlndXJhdGlvblxuICAgKi9cbiAgZ2V0IGNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgY3VycmVudCBjb250cm9sbGVyIHN0YXRlXG4gICAqXG4gICAqIEByZXR1cm5zIC0gQ3VycmVudCBzdGF0ZVxuICAgKi9cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmludGVybmFsU3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBjb250cm9sbGVyIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHBhcmFtIGNvbmZpZyAtIE5ldyBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIG92ZXJ3cml0ZSAtIE92ZXJ3cml0ZSBjb25maWcgaW5zdGVhZCBvZiBtZXJnaW5nXG4gICAqIEBwYXJhbSBmdWxsVXBkYXRlIC0gQm9vbGVhbiB0aGF0IGRlZmluZXMgaWYgdGhlIHVwZGF0ZSBpcyBwYXJ0aWFsIG9yIG5vdFxuICAgKi9cbiAgY29uZmlndXJlKGNvbmZpZywgb3ZlcndyaXRlID0gZmFsc2UsIGZ1bGxVcGRhdGUgPSB0cnVlKSB7XG4gICAgaWYgKGZ1bGxVcGRhdGUpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxDb25maWcgPSBvdmVyd3JpdGUgPyBjb25maWcgOiBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJuYWxDb25maWcsIGNvbmZpZyk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmludGVybmFsQ29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbnRlcm5hbENvbmZpZ1trZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICB0aGlzW2tleV0gPSB0aGlzLmludGVybmFsQ29uZmlnW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbnRlcm5hbENvbmZpZ1trZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbENvbmZpZ1trZXldID0gY29uZmlnW2tleV07XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICB0aGlzW2tleV0gPSBjb25maWdba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGNvbnRyb2xsZXIgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHN0YXRlIC0gTmV3IHN0YXRlXG4gICAqIEBwYXJhbSBvdmVyd3JpdGUgLSBPdmVyd3JpdGUgc3RhdGUgaW5zdGVhZCBvZiBtZXJnaW5nXG4gICAqL1xuICB1cGRhdGUoc3RhdGUsIG92ZXJ3cml0ZSA9IGZhbHNlKSB7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0gb3ZlcndyaXRlID8gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpIDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmludGVybmFsU3RhdGUpLCBzdGF0ZSk7XG4gICAgdGhpcy5lbWl0KFwic3RvcmVcIiwgdGhpcy5pbnRlcm5hbFN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBjb250cm9sbGVyLiBUaGlzIHNldHMgZWFjaCBjb25maWcgb3B0aW9uIGFzIGEgbWVtYmVyXG4gICAqIHZhcmlhYmxlIG9uIHRoaXMgaW5zdGFuY2UgYW5kIHRyaWdnZXJzIGFueSBkZWZpbmVkIHNldHRlcnMuIFRoaXNcbiAgICogYWxzbyBzZXRzIGluaXRpYWwgc3RhdGUgYW5kIHRyaWdnZXJzIGFueSBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEByZXR1cm5zIC0gVGhpcyBjb250cm9sbGVyIGluc3RhbmNlXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZSA9IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgIHRoaXMuaW50ZXJuYWxDb25maWcgPSB0aGlzLmRlZmF1bHRDb25maWc7XG4gICAgdGhpcy5jb25maWd1cmUodGhpcy5pbml0aWFsQ29uZmlnKTtcbiAgICB0aGlzLnVwZGF0ZSh0aGlzLmluaXRpYWxTdGF0ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZUNvbnRyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFetchConfigFromReq: () => (/* binding */ createFetchConfigFromReq),\n/* harmony export */   createFetchMiddleware: () => (/* binding */ createFetchMiddleware)\n/* harmony export */ });\n/* harmony import */ var _web3auth_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @web3auth/auth */ \"(ssr)/./node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js\");\n/* harmony import */ var _web3auth_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @web3auth/auth */ \"(ssr)/./node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js\");\n\n\nconst RETRIABLE_ERRORS = [\n// ignore server overload errors\n\"Gateway timeout\", \"ETIMEDOUT\",\n// ignore server sent html error pages\n// or truncated json responses\n\"failed to parse response body\",\n// ignore errors where http req failed to establish\n\"Failed to fetch\"];\nfunction checkForHttpErrors(fetchRes) {\n  // check for errors\n  switch (fetchRes.status) {\n    case 405:\n      throw _web3auth_auth__WEBPACK_IMPORTED_MODULE_0__.rpcErrors.methodNotFound();\n    case 418:\n      throw _web3auth_auth__WEBPACK_IMPORTED_MODULE_0__.rpcErrors.internal({\n        message: `Request is being rate limited.`,\n        data: {\n          cause: fetchRes\n        }\n      });\n    case 503:\n    case 504:\n      throw _web3auth_auth__WEBPACK_IMPORTED_MODULE_0__.rpcErrors.internal({\n        message: `Gateway timeout. The request took too long to process.` + `This can happen when querying over too wide a block range.`,\n        data: {\n          cause: fetchRes\n        }\n      });\n  }\n}\nfunction timeout(duration) {\n  return new Promise(resolve => {\n    setTimeout(resolve, duration);\n  });\n}\nfunction parseResponse(fetchRes, body) {\n  // check for error code\n  if (fetchRes.status !== 200) {\n    throw _web3auth_auth__WEBPACK_IMPORTED_MODULE_0__.rpcErrors.internal({\n      message: `Non-200 status code: '${fetchRes.status}'`,\n      data: body\n    });\n  }\n  // check for rpc error\n  if (body.error) {\n    var _body$error;\n    throw _web3auth_auth__WEBPACK_IMPORTED_MODULE_0__.rpcErrors.internal({\n      data: body.error,\n      message: (_body$error = body.error) === null || _body$error === void 0 ? void 0 : _body$error.message\n    });\n  }\n  // return successful result\n  return body.result;\n}\nfunction createFetchConfigFromReq({\n  req,\n  rpcTarget,\n  originHttpHeaderKey\n}) {\n  const parsedUrl = new URL(rpcTarget);\n\n  // prepare payload\n  // copy only canonical json rpc properties\n  const payload = {\n    id: req.id,\n    jsonrpc: req.jsonrpc,\n    method: req.method,\n    params: req.params\n  };\n\n  // extract 'origin' parameter from request\n  const originDomain = req.origin;\n\n  // serialize request body\n  const serializedPayload = JSON.stringify(payload);\n\n  // configure fetch params\n  const fetchParams = {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: serializedPayload\n  };\n\n  // optional: add request origin as header\n  if (originHttpHeaderKey && originDomain) {\n    fetchParams.headers[originHttpHeaderKey] = originDomain;\n  }\n  return {\n    fetchUrl: parsedUrl.href,\n    fetchParams\n  };\n}\nfunction createFetchMiddleware({\n  rpcTarget,\n  originHttpHeaderKey\n}) {\n  return (0,_web3auth_auth__WEBPACK_IMPORTED_MODULE_1__.createAsyncMiddleware)(async (req, res, _next) => {\n    const {\n      fetchUrl,\n      fetchParams\n    } = createFetchConfigFromReq({\n      req,\n      rpcTarget,\n      originHttpHeaderKey\n    });\n\n    // attempt request multiple times\n    const maxAttempts = 5;\n    const retryInterval = 1000;\n    for (let attempt = 0; attempt < maxAttempts; attempt++) {\n      try {\n        const fetchRes = await fetch(fetchUrl, fetchParams);\n        // check for http errrors\n        checkForHttpErrors(fetchRes);\n        // parse response body\n        const fetchBody = await fetchRes.json();\n        const result = parseResponse(fetchRes, fetchBody);\n        // set result and exit retry loop\n        res.result = result;\n        return;\n      } catch (err) {\n        const errMsg = (err.message || err).toString();\n        const isRetriable = RETRIABLE_ERRORS.some(phrase => errMsg.includes(phrase));\n        // re-throw error if not retriable\n        if (!isRetriable) {\n          throw err;\n        }\n      }\n      // delay before retrying\n      await timeout(retryInterval);\n    }\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS9OZXR3b3JrL2NyZWF0ZUZldGNoTWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtFOztBQUVsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFTO0FBQ3JCO0FBQ0EsWUFBWSxxREFBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsWUFBWSxxREFBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBUztBQUNuQix3Q0FBd0MsZ0JBQWdCO0FBQ3hEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBUztBQUNuQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMscUVBQXFCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1QkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRTJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS9OZXR3b3JrL2NyZWF0ZUZldGNoTWlkZGxld2FyZS5qcz8wZDJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFzeW5jTWlkZGxld2FyZSwgcnBjRXJyb3JzIH0gZnJvbSAnQHdlYjNhdXRoL2F1dGgnO1xuXG5jb25zdCBSRVRSSUFCTEVfRVJST1JTID0gW1xuLy8gaWdub3JlIHNlcnZlciBvdmVybG9hZCBlcnJvcnNcblwiR2F0ZXdheSB0aW1lb3V0XCIsIFwiRVRJTUVET1VUXCIsXG4vLyBpZ25vcmUgc2VydmVyIHNlbnQgaHRtbCBlcnJvciBwYWdlc1xuLy8gb3IgdHJ1bmNhdGVkIGpzb24gcmVzcG9uc2VzXG5cImZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBib2R5XCIsXG4vLyBpZ25vcmUgZXJyb3JzIHdoZXJlIGh0dHAgcmVxIGZhaWxlZCB0byBlc3RhYmxpc2hcblwiRmFpbGVkIHRvIGZldGNoXCJdO1xuZnVuY3Rpb24gY2hlY2tGb3JIdHRwRXJyb3JzKGZldGNoUmVzKSB7XG4gIC8vIGNoZWNrIGZvciBlcnJvcnNcbiAgc3dpdGNoIChmZXRjaFJlcy5zdGF0dXMpIHtcbiAgICBjYXNlIDQwNTpcbiAgICAgIHRocm93IHJwY0Vycm9ycy5tZXRob2ROb3RGb3VuZCgpO1xuICAgIGNhc2UgNDE4OlxuICAgICAgdGhyb3cgcnBjRXJyb3JzLmludGVybmFsKHtcbiAgICAgICAgbWVzc2FnZTogYFJlcXVlc3QgaXMgYmVpbmcgcmF0ZSBsaW1pdGVkLmAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjYXVzZTogZmV0Y2hSZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgY2FzZSA1MDM6XG4gICAgY2FzZSA1MDQ6XG4gICAgICB0aHJvdyBycGNFcnJvcnMuaW50ZXJuYWwoe1xuICAgICAgICBtZXNzYWdlOiBgR2F0ZXdheSB0aW1lb3V0LiBUaGUgcmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIHByb2Nlc3MuYCArIGBUaGlzIGNhbiBoYXBwZW4gd2hlbiBxdWVyeWluZyBvdmVyIHRvbyB3aWRlIGEgYmxvY2sgcmFuZ2UuYCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNhdXNlOiBmZXRjaFJlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gdGltZW91dChkdXJhdGlvbikge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgc2V0VGltZW91dChyZXNvbHZlLCBkdXJhdGlvbik7XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VSZXNwb25zZShmZXRjaFJlcywgYm9keSkge1xuICAvLyBjaGVjayBmb3IgZXJyb3IgY29kZVxuICBpZiAoZmV0Y2hSZXMuc3RhdHVzICE9PSAyMDApIHtcbiAgICB0aHJvdyBycGNFcnJvcnMuaW50ZXJuYWwoe1xuICAgICAgbWVzc2FnZTogYE5vbi0yMDAgc3RhdHVzIGNvZGU6ICcke2ZldGNoUmVzLnN0YXR1c30nYCxcbiAgICAgIGRhdGE6IGJvZHlcbiAgICB9KTtcbiAgfVxuICAvLyBjaGVjayBmb3IgcnBjIGVycm9yXG4gIGlmIChib2R5LmVycm9yKSB7XG4gICAgdmFyIF9ib2R5JGVycm9yO1xuICAgIHRocm93IHJwY0Vycm9ycy5pbnRlcm5hbCh7XG4gICAgICBkYXRhOiBib2R5LmVycm9yLFxuICAgICAgbWVzc2FnZTogKF9ib2R5JGVycm9yID0gYm9keS5lcnJvcikgPT09IG51bGwgfHwgX2JvZHkkZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ib2R5JGVycm9yLm1lc3NhZ2VcbiAgICB9KTtcbiAgfVxuICAvLyByZXR1cm4gc3VjY2Vzc2Z1bCByZXN1bHRcbiAgcmV0dXJuIGJvZHkucmVzdWx0O1xufVxuZnVuY3Rpb24gY3JlYXRlRmV0Y2hDb25maWdGcm9tUmVxKHtcbiAgcmVxLFxuICBycGNUYXJnZXQsXG4gIG9yaWdpbkh0dHBIZWFkZXJLZXlcbn0pIHtcbiAgY29uc3QgcGFyc2VkVXJsID0gbmV3IFVSTChycGNUYXJnZXQpO1xuXG4gIC8vIHByZXBhcmUgcGF5bG9hZFxuICAvLyBjb3B5IG9ubHkgY2Fub25pY2FsIGpzb24gcnBjIHByb3BlcnRpZXNcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBpZDogcmVxLmlkLFxuICAgIGpzb25ycGM6IHJlcS5qc29ucnBjLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICBwYXJhbXM6IHJlcS5wYXJhbXNcbiAgfTtcblxuICAvLyBleHRyYWN0ICdvcmlnaW4nIHBhcmFtZXRlciBmcm9tIHJlcXVlc3RcbiAgY29uc3Qgb3JpZ2luRG9tYWluID0gcmVxLm9yaWdpbjtcblxuICAvLyBzZXJpYWxpemUgcmVxdWVzdCBib2R5XG4gIGNvbnN0IHNlcmlhbGl6ZWRQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG5cbiAgLy8gY29uZmlndXJlIGZldGNoIHBhcmFtc1xuICBjb25zdCBmZXRjaFBhcmFtcyA9IHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH0sXG4gICAgYm9keTogc2VyaWFsaXplZFBheWxvYWRcbiAgfTtcblxuICAvLyBvcHRpb25hbDogYWRkIHJlcXVlc3Qgb3JpZ2luIGFzIGhlYWRlclxuICBpZiAob3JpZ2luSHR0cEhlYWRlcktleSAmJiBvcmlnaW5Eb21haW4pIHtcbiAgICBmZXRjaFBhcmFtcy5oZWFkZXJzW29yaWdpbkh0dHBIZWFkZXJLZXldID0gb3JpZ2luRG9tYWluO1xuICB9XG4gIHJldHVybiB7XG4gICAgZmV0Y2hVcmw6IHBhcnNlZFVybC5ocmVmLFxuICAgIGZldGNoUGFyYW1zXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVGZXRjaE1pZGRsZXdhcmUoe1xuICBycGNUYXJnZXQsXG4gIG9yaWdpbkh0dHBIZWFkZXJLZXlcbn0pIHtcbiAgcmV0dXJuIGNyZWF0ZUFzeW5jTWlkZGxld2FyZShhc3luYyAocmVxLCByZXMsIF9uZXh0KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZmV0Y2hVcmwsXG4gICAgICBmZXRjaFBhcmFtc1xuICAgIH0gPSBjcmVhdGVGZXRjaENvbmZpZ0Zyb21SZXEoe1xuICAgICAgcmVxLFxuICAgICAgcnBjVGFyZ2V0LFxuICAgICAgb3JpZ2luSHR0cEhlYWRlcktleVxuICAgIH0pO1xuXG4gICAgLy8gYXR0ZW1wdCByZXF1ZXN0IG11bHRpcGxlIHRpbWVzXG4gICAgY29uc3QgbWF4QXR0ZW1wdHMgPSA1O1xuICAgIGNvbnN0IHJldHJ5SW50ZXJ2YWwgPSAxMDAwO1xuICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZmV0Y2hSZXMgPSBhd2FpdCBmZXRjaChmZXRjaFVybCwgZmV0Y2hQYXJhbXMpO1xuICAgICAgICAvLyBjaGVjayBmb3IgaHR0cCBlcnJyb3JzXG4gICAgICAgIGNoZWNrRm9ySHR0cEVycm9ycyhmZXRjaFJlcyk7XG4gICAgICAgIC8vIHBhcnNlIHJlc3BvbnNlIGJvZHlcbiAgICAgICAgY29uc3QgZmV0Y2hCb2R5ID0gYXdhaXQgZmV0Y2hSZXMuanNvbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwYXJzZVJlc3BvbnNlKGZldGNoUmVzLCBmZXRjaEJvZHkpO1xuICAgICAgICAvLyBzZXQgcmVzdWx0IGFuZCBleGl0IHJldHJ5IGxvb3BcbiAgICAgICAgcmVzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9IChlcnIubWVzc2FnZSB8fCBlcnIpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGlzUmV0cmlhYmxlID0gUkVUUklBQkxFX0VSUk9SUy5zb21lKHBocmFzZSA9PiBlcnJNc2cuaW5jbHVkZXMocGhyYXNlKSk7XG4gICAgICAgIC8vIHJlLXRocm93IGVycm9yIGlmIG5vdCByZXRyaWFibGVcbiAgICAgICAgaWYgKCFpc1JldHJpYWJsZSkge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZGVsYXkgYmVmb3JlIHJldHJ5aW5nXG4gICAgICBhd2FpdCB0aW1lb3V0KHJldHJ5SW50ZXJ2YWwpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUZldGNoQ29uZmlnRnJvbVJlcSwgY3JlYXRlRmV0Y2hNaWRkbGV3YXJlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/createEventEmitterProxy.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/dist/lib.esm/createEventEmitterProxy.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEventEmitterProxy: () => (/* binding */ createEventEmitterProxy)\n/* harmony export */ });\nconst filterNoop = () => true;\nconst internalEvents = [\"newListener\", \"removeListener\"];\nconst externalEventFilter = name => !internalEvents.includes(name);\nfunction getRawListeners(eventEmitter, name) {\n  // prefer native\n  return typeof eventEmitter.rawListeners !== \"undefined\" ? eventEmitter.rawListeners(name) : eventEmitter.listeners(name);\n}\nfunction createEventEmitterProxy(initialTarget, opts) {\n  // parse options\n  const finalOpts = opts || {};\n  let eventFilter = finalOpts.eventFilter || filterNoop;\n  if (typeof eventFilter === \"string\" && eventFilter === \"skipInternal\") eventFilter = externalEventFilter;\n  if (typeof eventFilter !== \"function\") throw new Error(\"createEventEmitterProxy - Invalid eventFilter\");\n  let target = initialTarget;\n  let setTarget = newTarget => {\n    if (target === newTarget) return;\n    const oldTarget = target;\n    target = newTarget;\n    const eventNames = oldTarget.eventNames();\n    eventNames.filter(eventFilter).forEach(name => {\n      getRawListeners(oldTarget, name).forEach(handler => {\n        newTarget.on(name, handler);\n      });\n    });\n\n    // remove old listeners\n    oldTarget.removeAllListeners();\n  };\n  const proxy = new Proxy({}, {\n    get: (_, name) => {\n      // override `setTarget` access\n      if (name === \"setTarget\") return setTarget;\n      return target[name];\n    },\n    set: (_, name, value) => {\n      // allow `setTarget` overrides\n      if (name === \"setTarget\") {\n        setTarget = value;\n        return true;\n      }\n      target[name] = value;\n      return true;\n    },\n    has: (_, key) => {\n      if (key[0] === \"_\") {\n        return false;\n      }\n      return key in target;\n    }\n  });\n  return proxy;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS9jcmVhdGVFdmVudEVtaXR0ZXJQcm94eS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvZGlzdC9saWIuZXNtL2NyZWF0ZUV2ZW50RW1pdHRlclByb3h5LmpzPzRlNGUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZmlsdGVyTm9vcCA9ICgpID0+IHRydWU7XG5jb25zdCBpbnRlcm5hbEV2ZW50cyA9IFtcIm5ld0xpc3RlbmVyXCIsIFwicmVtb3ZlTGlzdGVuZXJcIl07XG5jb25zdCBleHRlcm5hbEV2ZW50RmlsdGVyID0gbmFtZSA9PiAhaW50ZXJuYWxFdmVudHMuaW5jbHVkZXMobmFtZSk7XG5mdW5jdGlvbiBnZXRSYXdMaXN0ZW5lcnMoZXZlbnRFbWl0dGVyLCBuYW1lKSB7XG4gIC8vIHByZWZlciBuYXRpdmVcbiAgcmV0dXJuIHR5cGVvZiBldmVudEVtaXR0ZXIucmF3TGlzdGVuZXJzICE9PSBcInVuZGVmaW5lZFwiID8gZXZlbnRFbWl0dGVyLnJhd0xpc3RlbmVycyhuYW1lKSA6IGV2ZW50RW1pdHRlci5saXN0ZW5lcnMobmFtZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudEVtaXR0ZXJQcm94eShpbml0aWFsVGFyZ2V0LCBvcHRzKSB7XG4gIC8vIHBhcnNlIG9wdGlvbnNcbiAgY29uc3QgZmluYWxPcHRzID0gb3B0cyB8fCB7fTtcbiAgbGV0IGV2ZW50RmlsdGVyID0gZmluYWxPcHRzLmV2ZW50RmlsdGVyIHx8IGZpbHRlck5vb3A7XG4gIGlmICh0eXBlb2YgZXZlbnRGaWx0ZXIgPT09IFwic3RyaW5nXCIgJiYgZXZlbnRGaWx0ZXIgPT09IFwic2tpcEludGVybmFsXCIpIGV2ZW50RmlsdGVyID0gZXh0ZXJuYWxFdmVudEZpbHRlcjtcbiAgaWYgKHR5cGVvZiBldmVudEZpbHRlciAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVFdmVudEVtaXR0ZXJQcm94eSAtIEludmFsaWQgZXZlbnRGaWx0ZXJcIik7XG4gIGxldCB0YXJnZXQgPSBpbml0aWFsVGFyZ2V0O1xuICBsZXQgc2V0VGFyZ2V0ID0gbmV3VGFyZ2V0ID0+IHtcbiAgICBpZiAodGFyZ2V0ID09PSBuZXdUYXJnZXQpIHJldHVybjtcbiAgICBjb25zdCBvbGRUYXJnZXQgPSB0YXJnZXQ7XG4gICAgdGFyZ2V0ID0gbmV3VGFyZ2V0O1xuICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBvbGRUYXJnZXQuZXZlbnROYW1lcygpO1xuICAgIGV2ZW50TmFtZXMuZmlsdGVyKGV2ZW50RmlsdGVyKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgZ2V0UmF3TGlzdGVuZXJzKG9sZFRhcmdldCwgbmFtZSkuZm9yRWFjaChoYW5kbGVyID0+IHtcbiAgICAgICAgbmV3VGFyZ2V0Lm9uKG5hbWUsIGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgb2xkIGxpc3RlbmVyc1xuICAgIG9sZFRhcmdldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfTtcbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICBnZXQ6IChfLCBuYW1lKSA9PiB7XG4gICAgICAvLyBvdmVycmlkZSBgc2V0VGFyZ2V0YCBhY2Nlc3NcbiAgICAgIGlmIChuYW1lID09PSBcInNldFRhcmdldFwiKSByZXR1cm4gc2V0VGFyZ2V0O1xuICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcbiAgICB9LFxuICAgIHNldDogKF8sIG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAvLyBhbGxvdyBgc2V0VGFyZ2V0YCBvdmVycmlkZXNcbiAgICAgIGlmIChuYW1lID09PSBcInNldFRhcmdldFwiKSB7XG4gICAgICAgIHNldFRhcmdldCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXM6IChfLCBrZXkpID0+IHtcbiAgICAgIGlmIChrZXlbMF0gPT09IFwiX1wiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBwcm94eTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlRXZlbnRFbWl0dGVyUHJveHkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/createEventEmitterProxy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneDeep: () => (/* binding */ cloneDeep),\n/* harmony export */   omitBy: () => (/* binding */ omitBy),\n/* harmony export */   pickBy: () => (/* binding */ pickBy)\n/* harmony export */ });\nfunction omitBy(object, predicate) {\n  // Create a new object to store the results\n  const result = {};\n\n  // Iterate over all own properties of the object\n  for (const [key, value] of Object.entries(object)) {\n    if (!predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\nfunction pickBy(object, predicate) {\n  // Create a new object to store the results\n  const result = {};\n  for (const [key, value] of Object.entries(object)) {\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\nfunction cloneDeep(object) {\n  try {\n    return structuredClone(object);\n  } catch (error) {\n    return JSON.parse(JSON.stringify(object, (_, v) => typeof v === \"bigint\" ? v.toString() : v));\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS91dGlscy9sb2Rhc2hVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvZGlzdC9saWIuZXNtL3V0aWxzL2xvZGFzaFV0aWxzLmpzP2VmN2QiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gIC8vIENyZWF0ZSBhIG5ldyBvYmplY3QgdG8gc3RvcmUgdGhlIHJlc3VsdHNcbiAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgLy8gSXRlcmF0ZSBvdmVyIGFsbCBvd24gcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iamVjdCkpIHtcbiAgICBpZiAoIXByZWRpY2F0ZSh2YWx1ZSwga2V5KSkge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0IHRvIHN0b3JlIHRoZSByZXN1bHRzXG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvYmplY3QpKSB7XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5KSkge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNsb25lRGVlcChvYmplY3QpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gc3RydWN0dXJlZENsb25lKG9iamVjdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqZWN0LCAoXywgdikgPT4gdHlwZW9mIHYgPT09IFwiYmlnaW50XCIgPyB2LnRvU3RyaW5nKCkgOiB2KSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgY2xvbmVEZWVwLCBvbWl0QnksIHBpY2tCeSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserError: () => (/* binding */ UserError),\n/* harmony export */   addressSlicer: () => (/* binding */ addressSlicer),\n/* harmony export */   broadcastChannelOptions: () => (/* binding */ broadcastChannelOptions),\n/* harmony export */   concatSig: () => (/* binding */ concatSig),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   formatSmallNumbers: () => (/* binding */ formatSmallNumbers),\n/* harmony export */   formatTime: () => (/* binding */ formatTime),\n/* harmony export */   getCustomDeviceInfo: () => (/* binding */ getCustomDeviceInfo),\n/* harmony export */   getHeaders: () => (/* binding */ getHeaders),\n/* harmony export */   getPopupFeatures: () => (/* binding */ getPopupFeatures),\n/* harmony export */   handleRedirectParameters: () => (/* binding */ handleRedirectParameters),\n/* harmony export */   hashMessage: () => (/* binding */ hashMessage),\n/* harmony export */   intToHex: () => (/* binding */ intToHex),\n/* harmony export */   isUnauthorizedError: () => (/* binding */ isUnauthorizedError),\n/* harmony export */   padWithZeroes: () => (/* binding */ padWithZeroes),\n/* harmony export */   randomId: () => (/* binding */ randomId),\n/* harmony export */   signMessage: () => (/* binding */ signMessage),\n/* harmony export */   significantDigits: () => (/* binding */ significantDigits),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   timeout: () => (/* binding */ timeout),\n/* harmony export */   transactionMatchesNetwork: () => (/* binding */ transactionMatchesNetwork)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/./node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _web3auth_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @web3auth/auth */ \"(ssr)/./node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js\");\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bignumber.js */ \"(ssr)/./node_modules/bignumber.js/bignumber.mjs\");\n\n\n\n\n/**\n * General utility functions\n */\n\nfunction intToHex(i) {\n  const hex = i.toString(16);\n  return `0x${hex}`;\n}\n\n/**\n * Returns a random number. Don't use for cryptographic purposes.\n * @returns a random number\n */\nconst randomId = () => Math.random().toString(36).slice(2);\n\n/**\n * Pads the front of the given hex string with zeroes until it reaches the\n * target length. If the input string is already longer than or equal to the\n * target length, it is returned unmodified.\n *\n * If the input string is \"0x\"-prefixed or not a hex string, an error will be\n * thrown.\n *\n * @param hexString - The hexadecimal string to pad with zeroes.\n * @param targetLength - The target length of the hexadecimal string.\n * @returns The input string front-padded with zeroes, or the original string\n * if it was already greater than or equal to to the target length.\n */\nfunction padWithZeroes(hexString, targetLength) {\n  if (hexString !== \"\" && !/^[a-f0-9]+$/iu.test(hexString)) {\n    throw new Error(`Expected an unprefixed hex string. Received: ${hexString}`);\n  }\n  if (targetLength < 0) {\n    throw new Error(`Expected a non-negative integer target length. Received: ${targetLength}`);\n  }\n  return String.prototype.padStart.call(hexString, targetLength, \"0\");\n}\n/**\n * Concatenate an extended ECDSA signature into a hex string.\n *\n * @param v - The 'v' portion of the signature.\n * @param r - The 'r' portion of the signature.\n * @param s - The 's' portion of the signature.\n * @returns The concatenated ECDSA signature.\n */\nfunction concatSig(v, r, s) {\n  const rSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.fromSigned)(r);\n  const sSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.fromSigned)(s);\n  const vSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)(v);\n  const rStr = padWithZeroes(Buffer.from((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toUnsigned)(rSig)).toString(\"hex\"), 64);\n  const sStr = padWithZeroes(Buffer.from((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toUnsigned)(sSig)).toString(\"hex\"), 64);\n  const vStr = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.stripHexPrefix)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bigIntToHex)(vSig));\n  return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.addHexPrefix)(rStr.concat(sStr, vStr));\n}\nfunction timeout(duration) {\n  return new Promise(resolve => {\n    const timeoutRef = window.setTimeout(() => {\n      resolve();\n      window.clearTimeout(timeoutRef);\n    }, duration);\n  });\n}\nconst getHeaders = (jwt, publicAddress) => {\n  return {\n    headers: {\n      Authorization: `Bearer ${jwt}`,\n      \"Content-Type\": \"application/json; charset=utf-8\",\n      \"public-address\": publicAddress\n    }\n  };\n};\n\n/**\n * Text/number formatting utilities\n */\nconst formatSmallNumbers = (number, currency = \"usd\", noTilde = false) => {\n  const finalNumber = bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isBigNumber(number) ? number.toNumber() : number;\n  if (!Number.isFinite(finalNumber)) return \"\";\n  const value = currency.toLowerCase() === \"usd\" ? parseFloat(Number(finalNumber).toFixed(2)) : parseFloat(Number(finalNumber).toFixed(5));\n  const tilde = value > 0 ? \"~ \" : \"\";\n  return `${currency.toLowerCase() === \"usd\" || noTilde ? \"\" : tilde}${Number(value)} ${currency.toUpperCase()}`;\n};\nconst addressSlicer = (address, sliceLength = 5) => {\n  if (!address) return \"\";\n  if (address.length < 11) {\n    return address;\n  }\n  if (typeof address !== \"string\") return \"\";\n  return `${address.slice(0, sliceLength)}...${address.slice(-sliceLength)}`;\n};\nconst significantDigits = (number, perc = false, length_ = 2) => {\n  let input = !bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isBigNumber(number) ? new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](number) : number;\n  if (input.isZero()) return input;\n  if (perc) {\n    input = input.times(new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](100));\n  }\n  let depth;\n  if (input.gte(new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](1))) {\n    depth = length_;\n  } else {\n    depth = length_ - 1 + Math.ceil(Math.log10(new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"1\").div(input).toNumber()));\n  }\n  const shift = new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](10).pow(new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](depth));\n  const roundedNumber = Math.round(shift.times(input).toNumber()) / shift.toNumber();\n  return roundedNumber;\n};\nconst formatDate = inputDate => {\n  const monthList = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  const date = new Date(inputDate);\n  const day = date.getDate();\n  const month = monthList[date.getMonth()];\n  const year = date.getFullYear();\n  return `${day} ${month} ${year}`;\n};\nconst formatTime = time => {\n  return new Date(time).toTimeString().slice(0, 8);\n};\n\n/**\n * Network utilities\n */\nconst transactionMatchesNetwork = (transaction, chainId) => {\n  if (typeof transaction.chainId !== \"undefined\") {\n    return transaction.chainId === chainId;\n  }\n  return false;\n};\n\n/**\n * Signing utils\n */\nconst hashMessage = message => {\n  const bufferedMessage = Buffer.from(message, \"utf8\");\n  const el = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hashPersonalMessage)(bufferedMessage);\n  return Buffer.from(el);\n};\nconst signMessage = async (privateKey, data) => {\n  const privKey = Buffer.from(privateKey, \"hex\");\n  const message = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.stripHexPrefix)(data);\n  const msgSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.ecsign)(Buffer.from(message, \"hex\"), privKey);\n  const rawMsgSig = concatSig(Buffer.from((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bigIntToBytes)(msgSig.v)), Buffer.from(msgSig.r), Buffer.from(msgSig.s));\n  return rawMsgSig;\n};\n\n/**\n * popup handler utils\n */\nfunction getPopupFeatures({\n  width: w,\n  height: h\n}) {\n  // Fixes dual-screen position                             Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n  const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n  const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n  const systemZoom = 1; // No reliable estimate\n\n  const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n  return features;\n}\nconst broadcastChannelOptions = {\n  type: \"server\",\n  // type: 'localstorage', // (optional) enforce a type, oneOf['native', 'idb', 'localstorage', 'node']\n  webWorkerSupport: false // (optional) set this to false if you know that your channel will never be used in a WebWorker (increases performance)\n};\nfunction getCustomDeviceInfo() {\n  var _navigator;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  if ((_navigator = navigator) !== null && _navigator !== void 0 && _navigator.brave) {\n    return {\n      browser: \"Brave\"\n    };\n  }\n}\nclass UserError extends Error {}\nconst handleRedirectParameters = (hash, queryParameters) => {\n  const hashParameters = {};\n  const hashUrl = new URL(`${window.location.origin}/?${hash.slice(1)}`);\n  hashUrl.searchParams.forEach((value, key) => {\n    hashParameters[key] = value;\n  });\n  let instanceParameters = {};\n  let error = \"\";\n  if (!queryParameters.windowId) {\n    if (Object.keys(hashParameters).length > 0 && hashParameters.state) {\n      instanceParameters = JSON.parse((0,_web3auth_auth__WEBPACK_IMPORTED_MODULE_2__.safeatob)(decodeURIComponent(decodeURIComponent(hashParameters.state)))) || {};\n      error = hashParameters.error_description || hashParameters.error || error;\n    } else if (Object.keys(queryParameters).length > 0 && queryParameters.state) {\n      instanceParameters = JSON.parse((0,_web3auth_auth__WEBPACK_IMPORTED_MODULE_2__.safeatob)(decodeURIComponent(decodeURIComponent(queryParameters.state)))) || {};\n      if (queryParameters.error) error = queryParameters.error;\n    }\n  }\n  return {\n    error,\n    instanceParameters,\n    hashParameters\n  };\n};\nfunction sleep(ms) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\nconst isUnauthorizedError = error => {\n  return error instanceof Response && error.status === 401;\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvbGliLmVzbS91dGlscy91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0s7QUFDdEg7QUFDTDs7QUFFckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLElBQUk7QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsVUFBVTtBQUM5RTtBQUNBO0FBQ0EsZ0ZBQWdGLGFBQWE7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBVTtBQUN6QixlQUFlLDREQUFVO0FBQ3pCLGVBQWUsK0RBQWE7QUFDNUIseUNBQXlDLDREQUFVO0FBQ25ELHlDQUF5Qyw0REFBVTtBQUNuRCxlQUFlLGdFQUFjLENBQUMsNkRBQVc7QUFDekMsU0FBUyw4REFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLElBQUk7QUFDbkMseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9EQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQXlELEVBQUUsZUFBZSxFQUFFLHVCQUF1QjtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEJBQThCLEtBQUssNEJBQTRCO0FBQzNFO0FBQ0E7QUFDQSxlQUFlLG9EQUFTLDJCQUEyQixvREFBUztBQUM1RDtBQUNBO0FBQ0EsNEJBQTRCLG9EQUFTO0FBQ3JDO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQVM7QUFDN0I7QUFDQSxJQUFJO0FBQ0osbURBQW1ELG9EQUFTO0FBQzVEO0FBQ0Esb0JBQW9CLG9EQUFTLGFBQWEsb0RBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFFQUFtQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnRUFBYztBQUNoQyxpQkFBaUIsd0RBQU07QUFDdkIsMENBQTBDLCtEQUFhO0FBQ3ZEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQSxnRkFBZ0YsZUFBZSxTQUFTLGVBQWUsT0FBTyxJQUFJLFFBQVEsS0FBSztBQUMvSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1QkFBdUIsSUFBSSxjQUFjO0FBQ3RFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0RBQVE7QUFDOUM7QUFDQSxNQUFNO0FBQ04sc0NBQXNDLHdEQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFaVYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvZGlzdC9saWIuZXNtL3V0aWxzL3V0aWxzLmpzPzYxMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbVNpZ25lZCwgYnl0ZXNUb0JpZ0ludCwgdG9VbnNpZ25lZCwgc3RyaXBIZXhQcmVmaXgsIGJpZ0ludFRvSGV4LCBhZGRIZXhQcmVmaXgsIGhhc2hQZXJzb25hbE1lc3NhZ2UsIGVjc2lnbiwgYmlnSW50VG9CeXRlcyB9IGZyb20gJ0BldGhlcmV1bWpzL3V0aWwnO1xuaW1wb3J0IHsgc2FmZWF0b2IgfSBmcm9tICdAd2ViM2F1dGgvYXV0aCc7XG5pbXBvcnQgQmlnTnVtYmVyIGZyb20gJ2JpZ251bWJlci5qcyc7XG5cbi8qKlxuICogR2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9uc1xuICovXG5cbmZ1bmN0aW9uIGludFRvSGV4KGkpIHtcbiAgY29uc3QgaGV4ID0gaS50b1N0cmluZygxNik7XG4gIHJldHVybiBgMHgke2hleH1gO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSByYW5kb20gbnVtYmVyLiBEb24ndCB1c2UgZm9yIGNyeXB0b2dyYXBoaWMgcHVycG9zZXMuXG4gKiBAcmV0dXJucyBhIHJhbmRvbSBudW1iZXJcbiAqL1xuY29uc3QgcmFuZG9tSWQgPSAoKSA9PiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcblxuLyoqXG4gKiBQYWRzIHRoZSBmcm9udCBvZiB0aGUgZ2l2ZW4gaGV4IHN0cmluZyB3aXRoIHplcm9lcyB1bnRpbCBpdCByZWFjaGVzIHRoZVxuICogdGFyZ2V0IGxlbmd0aC4gSWYgdGhlIGlucHV0IHN0cmluZyBpcyBhbHJlYWR5IGxvbmdlciB0aGFuIG9yIGVxdWFsIHRvIHRoZVxuICogdGFyZ2V0IGxlbmd0aCwgaXQgaXMgcmV0dXJuZWQgdW5tb2RpZmllZC5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgc3RyaW5nIGlzIFwiMHhcIi1wcmVmaXhlZCBvciBub3QgYSBoZXggc3RyaW5nLCBhbiBlcnJvciB3aWxsIGJlXG4gKiB0aHJvd24uXG4gKlxuICogQHBhcmFtIGhleFN0cmluZyAtIFRoZSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gcGFkIHdpdGggemVyb2VzLlxuICogQHBhcmFtIHRhcmdldExlbmd0aCAtIFRoZSB0YXJnZXQgbGVuZ3RoIG9mIHRoZSBoZXhhZGVjaW1hbCBzdHJpbmcuXG4gKiBAcmV0dXJucyBUaGUgaW5wdXQgc3RyaW5nIGZyb250LXBhZGRlZCB3aXRoIHplcm9lcywgb3IgdGhlIG9yaWdpbmFsIHN0cmluZ1xuICogaWYgaXQgd2FzIGFscmVhZHkgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRvIHRoZSB0YXJnZXQgbGVuZ3RoLlxuICovXG5mdW5jdGlvbiBwYWRXaXRoWmVyb2VzKGhleFN0cmluZywgdGFyZ2V0TGVuZ3RoKSB7XG4gIGlmIChoZXhTdHJpbmcgIT09IFwiXCIgJiYgIS9eW2EtZjAtOV0rJC9pdS50ZXN0KGhleFN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGFuIHVucHJlZml4ZWQgaGV4IHN0cmluZy4gUmVjZWl2ZWQ6ICR7aGV4U3RyaW5nfWApO1xuICB9XG4gIGlmICh0YXJnZXRMZW5ndGggPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIHRhcmdldCBsZW5ndGguIFJlY2VpdmVkOiAke3RhcmdldExlbmd0aH1gKTtcbiAgfVxuICByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5wYWRTdGFydC5jYWxsKGhleFN0cmluZywgdGFyZ2V0TGVuZ3RoLCBcIjBcIik7XG59XG4vKipcbiAqIENvbmNhdGVuYXRlIGFuIGV4dGVuZGVkIEVDRFNBIHNpZ25hdHVyZSBpbnRvIGEgaGV4IHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gdiAtIFRoZSAndicgcG9ydGlvbiBvZiB0aGUgc2lnbmF0dXJlLlxuICogQHBhcmFtIHIgLSBUaGUgJ3InIHBvcnRpb24gb2YgdGhlIHNpZ25hdHVyZS5cbiAqIEBwYXJhbSBzIC0gVGhlICdzJyBwb3J0aW9uIG9mIHRoZSBzaWduYXR1cmUuXG4gKiBAcmV0dXJucyBUaGUgY29uY2F0ZW5hdGVkIEVDRFNBIHNpZ25hdHVyZS5cbiAqL1xuZnVuY3Rpb24gY29uY2F0U2lnKHYsIHIsIHMpIHtcbiAgY29uc3QgclNpZyA9IGZyb21TaWduZWQocik7XG4gIGNvbnN0IHNTaWcgPSBmcm9tU2lnbmVkKHMpO1xuICBjb25zdCB2U2lnID0gYnl0ZXNUb0JpZ0ludCh2KTtcbiAgY29uc3QgclN0ciA9IHBhZFdpdGhaZXJvZXMoQnVmZmVyLmZyb20odG9VbnNpZ25lZChyU2lnKSkudG9TdHJpbmcoXCJoZXhcIiksIDY0KTtcbiAgY29uc3Qgc1N0ciA9IHBhZFdpdGhaZXJvZXMoQnVmZmVyLmZyb20odG9VbnNpZ25lZChzU2lnKSkudG9TdHJpbmcoXCJoZXhcIiksIDY0KTtcbiAgY29uc3QgdlN0ciA9IHN0cmlwSGV4UHJlZml4KGJpZ0ludFRvSGV4KHZTaWcpKTtcbiAgcmV0dXJuIGFkZEhleFByZWZpeChyU3RyLmNvbmNhdChzU3RyLCB2U3RyKSk7XG59XG5mdW5jdGlvbiB0aW1lb3V0KGR1cmF0aW9uKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCB0aW1lb3V0UmVmID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0UmVmKTtcbiAgICB9LCBkdXJhdGlvbik7XG4gIH0pO1xufVxuY29uc3QgZ2V0SGVhZGVycyA9IChqd3QsIHB1YmxpY0FkZHJlc3MpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7and0fWAsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgIFwicHVibGljLWFkZHJlc3NcIjogcHVibGljQWRkcmVzc1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogVGV4dC9udW1iZXIgZm9ybWF0dGluZyB1dGlsaXRpZXNcbiAqL1xuY29uc3QgZm9ybWF0U21hbGxOdW1iZXJzID0gKG51bWJlciwgY3VycmVuY3kgPSBcInVzZFwiLCBub1RpbGRlID0gZmFsc2UpID0+IHtcbiAgY29uc3QgZmluYWxOdW1iZXIgPSBCaWdOdW1iZXIuaXNCaWdOdW1iZXIobnVtYmVyKSA/IG51bWJlci50b051bWJlcigpIDogbnVtYmVyO1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShmaW5hbE51bWJlcikpIHJldHVybiBcIlwiO1xuICBjb25zdCB2YWx1ZSA9IGN1cnJlbmN5LnRvTG93ZXJDYXNlKCkgPT09IFwidXNkXCIgPyBwYXJzZUZsb2F0KE51bWJlcihmaW5hbE51bWJlcikudG9GaXhlZCgyKSkgOiBwYXJzZUZsb2F0KE51bWJlcihmaW5hbE51bWJlcikudG9GaXhlZCg1KSk7XG4gIGNvbnN0IHRpbGRlID0gdmFsdWUgPiAwID8gXCJ+IFwiIDogXCJcIjtcbiAgcmV0dXJuIGAke2N1cnJlbmN5LnRvTG93ZXJDYXNlKCkgPT09IFwidXNkXCIgfHwgbm9UaWxkZSA/IFwiXCIgOiB0aWxkZX0ke051bWJlcih2YWx1ZSl9ICR7Y3VycmVuY3kudG9VcHBlckNhc2UoKX1gO1xufTtcbmNvbnN0IGFkZHJlc3NTbGljZXIgPSAoYWRkcmVzcywgc2xpY2VMZW5ndGggPSA1KSA9PiB7XG4gIGlmICghYWRkcmVzcykgcmV0dXJuIFwiXCI7XG4gIGlmIChhZGRyZXNzLmxlbmd0aCA8IDExKSB7XG4gICAgcmV0dXJuIGFkZHJlc3M7XG4gIH1cbiAgaWYgKHR5cGVvZiBhZGRyZXNzICE9PSBcInN0cmluZ1wiKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIGAke2FkZHJlc3Muc2xpY2UoMCwgc2xpY2VMZW5ndGgpfS4uLiR7YWRkcmVzcy5zbGljZSgtc2xpY2VMZW5ndGgpfWA7XG59O1xuY29uc3Qgc2lnbmlmaWNhbnREaWdpdHMgPSAobnVtYmVyLCBwZXJjID0gZmFsc2UsIGxlbmd0aF8gPSAyKSA9PiB7XG4gIGxldCBpbnB1dCA9ICFCaWdOdW1iZXIuaXNCaWdOdW1iZXIobnVtYmVyKSA/IG5ldyBCaWdOdW1iZXIobnVtYmVyKSA6IG51bWJlcjtcbiAgaWYgKGlucHV0LmlzWmVybygpKSByZXR1cm4gaW5wdXQ7XG4gIGlmIChwZXJjKSB7XG4gICAgaW5wdXQgPSBpbnB1dC50aW1lcyhuZXcgQmlnTnVtYmVyKDEwMCkpO1xuICB9XG4gIGxldCBkZXB0aDtcbiAgaWYgKGlucHV0Lmd0ZShuZXcgQmlnTnVtYmVyKDEpKSkge1xuICAgIGRlcHRoID0gbGVuZ3RoXztcbiAgfSBlbHNlIHtcbiAgICBkZXB0aCA9IGxlbmd0aF8gLSAxICsgTWF0aC5jZWlsKE1hdGgubG9nMTAobmV3IEJpZ051bWJlcihcIjFcIikuZGl2KGlucHV0KS50b051bWJlcigpKSk7XG4gIH1cbiAgY29uc3Qgc2hpZnQgPSBuZXcgQmlnTnVtYmVyKDEwKS5wb3cobmV3IEJpZ051bWJlcihkZXB0aCkpO1xuICBjb25zdCByb3VuZGVkTnVtYmVyID0gTWF0aC5yb3VuZChzaGlmdC50aW1lcyhpbnB1dCkudG9OdW1iZXIoKSkgLyBzaGlmdC50b051bWJlcigpO1xuICByZXR1cm4gcm91bmRlZE51bWJlcjtcbn07XG5jb25zdCBmb3JtYXREYXRlID0gaW5wdXREYXRlID0+IHtcbiAgY29uc3QgbW9udGhMaXN0ID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoaW5wdXREYXRlKTtcbiAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG4gIGNvbnN0IG1vbnRoID0gbW9udGhMaXN0W2RhdGUuZ2V0TW9udGgoKV07XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIHJldHVybiBgJHtkYXl9ICR7bW9udGh9ICR7eWVhcn1gO1xufTtcbmNvbnN0IGZvcm1hdFRpbWUgPSB0aW1lID0+IHtcbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWUpLnRvVGltZVN0cmluZygpLnNsaWNlKDAsIDgpO1xufTtcblxuLyoqXG4gKiBOZXR3b3JrIHV0aWxpdGllc1xuICovXG5jb25zdCB0cmFuc2FjdGlvbk1hdGNoZXNOZXR3b3JrID0gKHRyYW5zYWN0aW9uLCBjaGFpbklkKSA9PiB7XG4gIGlmICh0eXBlb2YgdHJhbnNhY3Rpb24uY2hhaW5JZCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB0cmFuc2FjdGlvbi5jaGFpbklkID09PSBjaGFpbklkO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogU2lnbmluZyB1dGlsc1xuICovXG5jb25zdCBoYXNoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xuICBjb25zdCBidWZmZXJlZE1lc3NhZ2UgPSBCdWZmZXIuZnJvbShtZXNzYWdlLCBcInV0ZjhcIik7XG4gIGNvbnN0IGVsID0gaGFzaFBlcnNvbmFsTWVzc2FnZShidWZmZXJlZE1lc3NhZ2UpO1xuICByZXR1cm4gQnVmZmVyLmZyb20oZWwpO1xufTtcbmNvbnN0IHNpZ25NZXNzYWdlID0gYXN5bmMgKHByaXZhdGVLZXksIGRhdGEpID0+IHtcbiAgY29uc3QgcHJpdktleSA9IEJ1ZmZlci5mcm9tKHByaXZhdGVLZXksIFwiaGV4XCIpO1xuICBjb25zdCBtZXNzYWdlID0gc3RyaXBIZXhQcmVmaXgoZGF0YSk7XG4gIGNvbnN0IG1zZ1NpZyA9IGVjc2lnbihCdWZmZXIuZnJvbShtZXNzYWdlLCBcImhleFwiKSwgcHJpdktleSk7XG4gIGNvbnN0IHJhd01zZ1NpZyA9IGNvbmNhdFNpZyhCdWZmZXIuZnJvbShiaWdJbnRUb0J5dGVzKG1zZ1NpZy52KSksIEJ1ZmZlci5mcm9tKG1zZ1NpZy5yKSwgQnVmZmVyLmZyb20obXNnU2lnLnMpKTtcbiAgcmV0dXJuIHJhd01zZ1NpZztcbn07XG5cbi8qKlxuICogcG9wdXAgaGFuZGxlciB1dGlsc1xuICovXG5mdW5jdGlvbiBnZXRQb3B1cEZlYXR1cmVzKHtcbiAgd2lkdGg6IHcsXG4gIGhlaWdodDogaFxufSkge1xuICAvLyBGaXhlcyBkdWFsLXNjcmVlbiBwb3NpdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9zdCBicm93c2VycyAgICAgIEZpcmVmb3hcbiAgY29uc3QgZHVhbFNjcmVlbkxlZnQgPSB3aW5kb3cuc2NyZWVuTGVmdCAhPT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlbkxlZnQgOiB3aW5kb3cuc2NyZWVuWDtcbiAgY29uc3QgZHVhbFNjcmVlblRvcCA9IHdpbmRvdy5zY3JlZW5Ub3AgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiB3aW5kb3cuc2NyZWVuWTtcbiAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogd2luZG93LnNjcmVlbi53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3Qgc3lzdGVtWm9vbSA9IDE7IC8vIE5vIHJlbGlhYmxlIGVzdGltYXRlXG5cbiAgY29uc3QgbGVmdCA9IE1hdGguYWJzKCh3aWR0aCAtIHcpIC8gMiAvIHN5c3RlbVpvb20gKyBkdWFsU2NyZWVuTGVmdCk7XG4gIGNvbnN0IHRvcCA9IE1hdGguYWJzKChoZWlnaHQgLSBoKSAvIDIgLyBzeXN0ZW1ab29tICsgZHVhbFNjcmVlblRvcCk7XG4gIGNvbnN0IGZlYXR1cmVzID0gYHRpdGxlYmFyPTAsdG9vbGJhcj0wLHN0YXR1cz0wLGxvY2F0aW9uPTAsbWVudWJhcj0wLGhlaWdodD0ke2ggLyBzeXN0ZW1ab29tfSx3aWR0aD0ke3cgLyBzeXN0ZW1ab29tfSx0b3A9JHt0b3B9LGxlZnQ9JHtsZWZ0fWA7XG4gIHJldHVybiBmZWF0dXJlcztcbn1cbmNvbnN0IGJyb2FkY2FzdENoYW5uZWxPcHRpb25zID0ge1xuICB0eXBlOiBcInNlcnZlclwiLFxuICAvLyB0eXBlOiAnbG9jYWxzdG9yYWdlJywgLy8gKG9wdGlvbmFsKSBlbmZvcmNlIGEgdHlwZSwgb25lT2ZbJ25hdGl2ZScsICdpZGInLCAnbG9jYWxzdG9yYWdlJywgJ25vZGUnXVxuICB3ZWJXb3JrZXJTdXBwb3J0OiBmYWxzZSAvLyAob3B0aW9uYWwpIHNldCB0aGlzIHRvIGZhbHNlIGlmIHlvdSBrbm93IHRoYXQgeW91ciBjaGFubmVsIHdpbGwgbmV2ZXIgYmUgdXNlZCBpbiBhIFdlYldvcmtlciAoaW5jcmVhc2VzIHBlcmZvcm1hbmNlKVxufTtcbmZ1bmN0aW9uIGdldEN1c3RvbURldmljZUluZm8oKSB7XG4gIHZhciBfbmF2aWdhdG9yO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpZiAoKF9uYXZpZ2F0b3IgPSBuYXZpZ2F0b3IpICE9PSBudWxsICYmIF9uYXZpZ2F0b3IgIT09IHZvaWQgMCAmJiBfbmF2aWdhdG9yLmJyYXZlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJyb3dzZXI6IFwiQnJhdmVcIlxuICAgIH07XG4gIH1cbn1cbmNsYXNzIFVzZXJFcnJvciBleHRlbmRzIEVycm9yIHt9XG5jb25zdCBoYW5kbGVSZWRpcmVjdFBhcmFtZXRlcnMgPSAoaGFzaCwgcXVlcnlQYXJhbWV0ZXJzKSA9PiB7XG4gIGNvbnN0IGhhc2hQYXJhbWV0ZXJzID0ge307XG4gIGNvbnN0IGhhc2hVcmwgPSBuZXcgVVJMKGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59Lz8ke2hhc2guc2xpY2UoMSl9YCk7XG4gIGhhc2hVcmwuc2VhcmNoUGFyYW1zLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBoYXNoUGFyYW1ldGVyc1trZXldID0gdmFsdWU7XG4gIH0pO1xuICBsZXQgaW5zdGFuY2VQYXJhbWV0ZXJzID0ge307XG4gIGxldCBlcnJvciA9IFwiXCI7XG4gIGlmICghcXVlcnlQYXJhbWV0ZXJzLndpbmRvd0lkKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGhhc2hQYXJhbWV0ZXJzKS5sZW5ndGggPiAwICYmIGhhc2hQYXJhbWV0ZXJzLnN0YXRlKSB7XG4gICAgICBpbnN0YW5jZVBhcmFtZXRlcnMgPSBKU09OLnBhcnNlKHNhZmVhdG9iKGRlY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoaGFzaFBhcmFtZXRlcnMuc3RhdGUpKSkpIHx8IHt9O1xuICAgICAgZXJyb3IgPSBoYXNoUGFyYW1ldGVycy5lcnJvcl9kZXNjcmlwdGlvbiB8fCBoYXNoUGFyYW1ldGVycy5lcnJvciB8fCBlcnJvcjtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1ldGVycykubGVuZ3RoID4gMCAmJiBxdWVyeVBhcmFtZXRlcnMuc3RhdGUpIHtcbiAgICAgIGluc3RhbmNlUGFyYW1ldGVycyA9IEpTT04ucGFyc2Uoc2FmZWF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudChxdWVyeVBhcmFtZXRlcnMuc3RhdGUpKSkpIHx8IHt9O1xuICAgICAgaWYgKHF1ZXJ5UGFyYW1ldGVycy5lcnJvcikgZXJyb3IgPSBxdWVyeVBhcmFtZXRlcnMuZXJyb3I7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgZXJyb3IsXG4gICAgaW5zdGFuY2VQYXJhbWV0ZXJzLFxuICAgIGhhc2hQYXJhbWV0ZXJzXG4gIH07XG59O1xuZnVuY3Rpb24gc2xlZXAobXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xuICB9KTtcbn1cbmNvbnN0IGlzVW5hdXRob3JpemVkRXJyb3IgPSBlcnJvciA9PiB7XG4gIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIFJlc3BvbnNlICYmIGVycm9yLnN0YXR1cyA9PT0gNDAxO1xufTtcblxuZXhwb3J0IHsgVXNlckVycm9yLCBhZGRyZXNzU2xpY2VyLCBicm9hZGNhc3RDaGFubmVsT3B0aW9ucywgY29uY2F0U2lnLCBmb3JtYXREYXRlLCBmb3JtYXRTbWFsbE51bWJlcnMsIGZvcm1hdFRpbWUsIGdldEN1c3RvbURldmljZUluZm8sIGdldEhlYWRlcnMsIGdldFBvcHVwRmVhdHVyZXMsIGhhbmRsZVJlZGlyZWN0UGFyYW1ldGVycywgaGFzaE1lc3NhZ2UsIGludFRvSGV4LCBpc1VuYXV0aG9yaXplZEVycm9yLCBwYWRXaXRoWmVyb2VzLCByYW5kb21JZCwgc2lnbk1lc3NhZ2UsIHNpZ25pZmljYW50RGlnaXRzLCBzbGVlcCwgdGltZW91dCwgdHJhbnNhY3Rpb25NYXRjaGVzTmV0d29yayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/constants/dist/lib.esm/constants.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@toruslabs/constants/dist/lib.esm/constants.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTHJS_SERVER_URL: () => (/* binding */ AUTHJS_SERVER_URL),\n/* harmony export */   FND_SERVER: () => (/* binding */ FND_SERVER),\n/* harmony export */   KEY_TYPE: () => (/* binding */ KEY_TYPE),\n/* harmony export */   LEGACY_NETWORKS_ROUTE_MAP: () => (/* binding */ LEGACY_NETWORKS_ROUTE_MAP),\n/* harmony export */   METADATA_MAP: () => (/* binding */ METADATA_MAP),\n/* harmony export */   MULTI_CLUSTER_NETWORKS: () => (/* binding */ MULTI_CLUSTER_NETWORKS),\n/* harmony export */   NETWORK_MAP: () => (/* binding */ NETWORK_MAP),\n/* harmony export */   PROXY_CONTRACT_ADDRESS: () => (/* binding */ PROXY_CONTRACT_ADDRESS),\n/* harmony export */   SESSION_SERVER_API_URL: () => (/* binding */ SESSION_SERVER_API_URL),\n/* harmony export */   SESSION_SERVER_SOCKET_URL: () => (/* binding */ SESSION_SERVER_SOCKET_URL),\n/* harmony export */   SIGNER_MAP: () => (/* binding */ SIGNER_MAP),\n/* harmony export */   TORUS_LEGACY_NETWORK: () => (/* binding */ TORUS_LEGACY_NETWORK),\n/* harmony export */   TORUS_SAPPHIRE_NETWORK: () => (/* binding */ TORUS_SAPPHIRE_NETWORK)\n/* harmony export */ });\nconst TORUS_LEGACY_NETWORK = {\n  MAINNET: \"mainnet\",\n  TESTNET: \"testnet\",\n  CYAN: \"cyan\",\n  AQUA: \"aqua\",\n  CELESTE: \"celeste\"\n};\nconst TORUS_SAPPHIRE_NETWORK = {\n  SAPPHIRE_DEVNET: \"sapphire_devnet\",\n  SAPPHIRE_MAINNET: \"sapphire_mainnet\"\n};\nconst PROXY_CONTRACT_ADDRESS = {\n  [TORUS_LEGACY_NETWORK.MAINNET]: \"0xf20336e16B5182637f09821c27BDe29b0AFcfe80\",\n  [TORUS_LEGACY_NETWORK.TESTNET]: \"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A\",\n  [TORUS_LEGACY_NETWORK.CYAN]: \"0x9f072ba19b3370e512aa1b4bfcdaf97283168005\",\n  [TORUS_LEGACY_NETWORK.AQUA]: \"0x29Dea82a0509153b91040ee13cDBba0f03efb625\",\n  [TORUS_LEGACY_NETWORK.CELESTE]: \"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c\"\n};\nconst MULTI_CLUSTER_NETWORKS = [\n  // TORUS_LEGACY_NETWORK.AQUA,\n  // TORUS_LEGACY_NETWORK.CELESTE,\n  // TORUS_LEGACY_NETWORK.CYAN,\n];\nconst LEGACY_NETWORKS_ROUTE_MAP = {\n  [TORUS_LEGACY_NETWORK.AQUA]: {\n    migrationCompleted: true,\n    networkIdentifier: \"aqua\",\n    networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n  },\n  [TORUS_LEGACY_NETWORK.CELESTE]: {\n    migrationCompleted: true,\n    networkIdentifier: \"celeste\",\n    networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n  },\n  [TORUS_LEGACY_NETWORK.CYAN]: {\n    migrationCompleted: true,\n    networkIdentifier: \"cyan\",\n    networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n  },\n  [TORUS_LEGACY_NETWORK.MAINNET]: {\n    migrationCompleted: true,\n    networkIdentifier: \"mainnet\",\n    networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n  },\n  [TORUS_LEGACY_NETWORK.TESTNET]: {\n    migrationCompleted: true,\n    networkIdentifier: \"teal\",\n    networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET\n  }\n};\nconst NETWORK_MAP = {\n  [TORUS_LEGACY_NETWORK.MAINNET]: \"mainnet\",\n  [TORUS_LEGACY_NETWORK.TESTNET]: \"goerli\",\n  [TORUS_LEGACY_NETWORK.CYAN]: \"polygon-mainnet\",\n  [TORUS_LEGACY_NETWORK.AQUA]: \"polygon-mainnet\",\n  [TORUS_LEGACY_NETWORK.CELESTE]: \"polygon-mainnet\"\n};\nconst SIGNER_MAP = {\n  [TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]: \"https://api.web3auth.io/signer-service\",\n  [TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]: \"https://api.web3auth.io/signer-service\",\n  [TORUS_LEGACY_NETWORK.MAINNET]: \"https://api.web3auth.io/signer-service\",\n  [TORUS_LEGACY_NETWORK.TESTNET]: \"https://api.web3auth.io/signer-service\",\n  [TORUS_LEGACY_NETWORK.CYAN]: \"https://api.web3auth.io/signer-polygon-service\",\n  [TORUS_LEGACY_NETWORK.AQUA]: \"https://api.web3auth.io/signer-polygon-service\",\n  [TORUS_LEGACY_NETWORK.CELESTE]: \"https://api.web3auth.io/signer-polygon-service\"\n};\nconst METADATA_MAP = {\n  [TORUS_LEGACY_NETWORK.MAINNET]: \"https://api.web3auth.io/metadata-service\",\n  [TORUS_LEGACY_NETWORK.TESTNET]: \"https://api.web3auth.io/metadata-service\",\n  [TORUS_LEGACY_NETWORK.CYAN]: \"https://api.web3auth.io/metadata-service\",\n  [TORUS_LEGACY_NETWORK.AQUA]: \"https://api.web3auth.io/metadata-service\",\n  [TORUS_LEGACY_NETWORK.CELESTE]: \"https://api.web3auth.io/metadata-service\"\n};\n\n// FND backend service\nconst FND_SERVER = \"https://api.web3auth.io/fnd-service\";\n\n// Session backend service\nconst SESSION_SERVER_API_URL = \"https://api.web3auth.io/session-service\";\nconst SESSION_SERVER_SOCKET_URL = \"https://session.web3auth.io\";\n\n// Authjs backend service\nconst AUTHJS_SERVER_URL = \"https://api.web3auth.io/authjs-service\";\nconst KEY_TYPE = {\n  SECP256K1: \"secp256k1\",\n  ED25519: \"ed25519\"\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9jb25zdGFudHMvZGlzdC9saWIuZXNtL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXNRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9jb25zdGFudHMvZGlzdC9saWIuZXNtL2NvbnN0YW50cy5qcz9mZDExIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFRPUlVTX0xFR0FDWV9ORVRXT1JLID0ge1xuICBNQUlOTkVUOiBcIm1haW5uZXRcIixcbiAgVEVTVE5FVDogXCJ0ZXN0bmV0XCIsXG4gIENZQU46IFwiY3lhblwiLFxuICBBUVVBOiBcImFxdWFcIixcbiAgQ0VMRVNURTogXCJjZWxlc3RlXCJcbn07XG5jb25zdCBUT1JVU19TQVBQSElSRV9ORVRXT1JLID0ge1xuICBTQVBQSElSRV9ERVZORVQ6IFwic2FwcGhpcmVfZGV2bmV0XCIsXG4gIFNBUFBISVJFX01BSU5ORVQ6IFwic2FwcGhpcmVfbWFpbm5ldFwiXG59O1xuY29uc3QgUFJPWFlfQ09OVFJBQ1RfQUREUkVTUyA9IHtcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLk1BSU5ORVRdOiBcIjB4ZjIwMzM2ZTE2QjUxODI2MzdmMDk4MjFjMjdCRGUyOWIwQUZjZmU4MFwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuVEVTVE5FVF06IFwiMHhkMDg0NjA0ZTVGQTM4N0ZiQzJEYThiQWFiMDdmREQ2YURFRDQ2MTRBXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DWUFOXTogXCIweDlmMDcyYmExOWIzMzcwZTUxMmFhMWI0YmZjZGFmOTcyODMxNjgwMDVcIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLkFRVUFdOiBcIjB4MjlEZWE4MmEwNTA5MTUzYjkxMDQwZWUxM2NEQmJhMGYwM2VmYjYyNVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ0VMRVNURV06IFwiMHg2QmZmYjRlODk0NTMwNjlFNzQ4N2YwZmE1YzlmNGEyRDc3MWNjZTZjXCJcbn07XG5jb25zdCBNVUxUSV9DTFVTVEVSX05FVFdPUktTID0gW1xuICAvLyBUT1JVU19MRUdBQ1lfTkVUV09SSy5BUVVBLFxuICAvLyBUT1JVU19MRUdBQ1lfTkVUV09SSy5DRUxFU1RFLFxuICAvLyBUT1JVU19MRUdBQ1lfTkVUV09SSy5DWUFOLFxuXTtcbmNvbnN0IExFR0FDWV9ORVRXT1JLU19ST1VURV9NQVAgPSB7XG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5BUVVBXToge1xuICAgIG1pZ3JhdGlvbkNvbXBsZXRlZDogdHJ1ZSxcbiAgICBuZXR3b3JrSWRlbnRpZmllcjogXCJhcXVhXCIsXG4gICAgbmV0d29ya01pZ3JhdGVkVG86IFRPUlVTX1NBUFBISVJFX05FVFdPUksuU0FQUEhJUkVfTUFJTk5FVFxuICB9LFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ0VMRVNURV06IHtcbiAgICBtaWdyYXRpb25Db21wbGV0ZWQ6IHRydWUsXG4gICAgbmV0d29ya0lkZW50aWZpZXI6IFwiY2VsZXN0ZVwiLFxuICAgIG5ldHdvcmtNaWdyYXRlZFRvOiBUT1JVU19TQVBQSElSRV9ORVRXT1JLLlNBUFBISVJFX01BSU5ORVRcbiAgfSxcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLkNZQU5dOiB7XG4gICAgbWlncmF0aW9uQ29tcGxldGVkOiB0cnVlLFxuICAgIG5ldHdvcmtJZGVudGlmaWVyOiBcImN5YW5cIixcbiAgICBuZXR3b3JrTWlncmF0ZWRUbzogVE9SVVNfU0FQUEhJUkVfTkVUV09SSy5TQVBQSElSRV9NQUlOTkVUXG4gIH0sXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5NQUlOTkVUXToge1xuICAgIG1pZ3JhdGlvbkNvbXBsZXRlZDogdHJ1ZSxcbiAgICBuZXR3b3JrSWRlbnRpZmllcjogXCJtYWlubmV0XCIsXG4gICAgbmV0d29ya01pZ3JhdGVkVG86IFRPUlVTX1NBUFBISVJFX05FVFdPUksuU0FQUEhJUkVfTUFJTk5FVFxuICB9LFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuVEVTVE5FVF06IHtcbiAgICBtaWdyYXRpb25Db21wbGV0ZWQ6IHRydWUsXG4gICAgbmV0d29ya0lkZW50aWZpZXI6IFwidGVhbFwiLFxuICAgIG5ldHdvcmtNaWdyYXRlZFRvOiBUT1JVU19TQVBQSElSRV9ORVRXT1JLLlNBUFBISVJFX0RFVk5FVFxuICB9XG59O1xuY29uc3QgTkVUV09SS19NQVAgPSB7XG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5NQUlOTkVUXTogXCJtYWlubmV0XCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5URVNUTkVUXTogXCJnb2VybGlcIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLkNZQU5dOiBcInBvbHlnb24tbWFpbm5ldFwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQVFVQV06IFwicG9seWdvbi1tYWlubmV0XCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DRUxFU1RFXTogXCJwb2x5Z29uLW1haW5uZXRcIlxufTtcbmNvbnN0IFNJR05FUl9NQVAgPSB7XG4gIFtUT1JVU19TQVBQSElSRV9ORVRXT1JLLlNBUFBISVJFX01BSU5ORVRdOiBcImh0dHBzOi8vYXBpLndlYjNhdXRoLmlvL3NpZ25lci1zZXJ2aWNlXCIsXG4gIFtUT1JVU19TQVBQSElSRV9ORVRXT1JLLlNBUFBISVJFX0RFVk5FVF06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vc2lnbmVyLXNlcnZpY2VcIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLk1BSU5ORVRdOiBcImh0dHBzOi8vYXBpLndlYjNhdXRoLmlvL3NpZ25lci1zZXJ2aWNlXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5URVNUTkVUXTogXCJodHRwczovL2FwaS53ZWIzYXV0aC5pby9zaWduZXItc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ1lBTl06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vc2lnbmVyLXBvbHlnb24tc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQVFVQV06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vc2lnbmVyLXBvbHlnb24tc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ0VMRVNURV06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vc2lnbmVyLXBvbHlnb24tc2VydmljZVwiXG59O1xuY29uc3QgTUVUQURBVEFfTUFQID0ge1xuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuTUFJTk5FVF06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vbWV0YWRhdGEtc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuVEVTVE5FVF06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vbWV0YWRhdGEtc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ1lBTl06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vbWV0YWRhdGEtc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQVFVQV06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vbWV0YWRhdGEtc2VydmljZVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ0VMRVNURV06IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vbWV0YWRhdGEtc2VydmljZVwiXG59O1xuXG4vLyBGTkQgYmFja2VuZCBzZXJ2aWNlXG5jb25zdCBGTkRfU0VSVkVSID0gXCJodHRwczovL2FwaS53ZWIzYXV0aC5pby9mbmQtc2VydmljZVwiO1xuXG4vLyBTZXNzaW9uIGJhY2tlbmQgc2VydmljZVxuY29uc3QgU0VTU0lPTl9TRVJWRVJfQVBJX1VSTCA9IFwiaHR0cHM6Ly9hcGkud2ViM2F1dGguaW8vc2Vzc2lvbi1zZXJ2aWNlXCI7XG5jb25zdCBTRVNTSU9OX1NFUlZFUl9TT0NLRVRfVVJMID0gXCJodHRwczovL3Nlc3Npb24ud2ViM2F1dGguaW9cIjtcblxuLy8gQXV0aGpzIGJhY2tlbmQgc2VydmljZVxuY29uc3QgQVVUSEpTX1NFUlZFUl9VUkwgPSBcImh0dHBzOi8vYXBpLndlYjNhdXRoLmlvL2F1dGhqcy1zZXJ2aWNlXCI7XG5jb25zdCBLRVlfVFlQRSA9IHtcbiAgU0VDUDI1NksxOiBcInNlY3AyNTZrMVwiLFxuICBFRDI1NTE5OiBcImVkMjU1MTlcIlxufTtcblxuZXhwb3J0IHsgQVVUSEpTX1NFUlZFUl9VUkwsIEZORF9TRVJWRVIsIEtFWV9UWVBFLCBMRUdBQ1lfTkVUV09SS1NfUk9VVEVfTUFQLCBNRVRBREFUQV9NQVAsIE1VTFRJX0NMVVNURVJfTkVUV09SS1MsIE5FVFdPUktfTUFQLCBQUk9YWV9DT05UUkFDVF9BRERSRVNTLCBTRVNTSU9OX1NFUlZFUl9BUElfVVJMLCBTRVNTSU9OX1NFUlZFUl9TT0NLRVRfVVJMLCBTSUdORVJfTUFQLCBUT1JVU19MRUdBQ1lfTkVUV09SSywgVE9SVVNfU0FQUEhJUkVfTkVUV09SSyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/constants/dist/lib.esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/eccrypto/dist/lib.esm/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@toruslabs/eccrypto/dist/lib.esm/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   derive: () => (/* binding */ derive),\n/* harmony export */   derivePadded: () => (/* binding */ derivePadded),\n/* harmony export */   deriveUnpadded: () => (/* binding */ deriveUnpadded),\n/* harmony export */   encrypt: () => (/* binding */ encrypt),\n/* harmony export */   generatePrivate: () => (/* binding */ generatePrivate),\n/* harmony export */   getPublic: () => (/* binding */ getPublic),\n/* harmony export */   getPublicCompressed: () => (/* binding */ getPublicCompressed),\n/* harmony export */   sign: () => (/* binding */ sign),\n/* harmony export */   verify: () => (/* binding */ verify)\n/* harmony export */ });\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! elliptic */ \"(ssr)/./node_modules/elliptic/lib/elliptic.js\");\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(elliptic__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst ec = new elliptic__WEBPACK_IMPORTED_MODULE_0__.ec(\"secp256k1\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, n/no-unsupported-features/node-builtins\nconst browserCrypto = globalThis.crypto || globalThis.msCrypto || {};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst subtle = browserCrypto.subtle || browserCrypto.webkitSubtle;\nconst EC_GROUP_ORDER = Buffer.from(\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\", \"hex\");\nconst ZERO32 = Buffer.alloc(32, 0);\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || \"Assertion failed\");\n  }\n}\nfunction isScalar(x) {\n  return Buffer.isBuffer(x) && x.length === 32;\n}\nfunction isValidPrivateKey(privateKey) {\n  if (!isScalar(privateKey)) {\n    return false;\n  }\n  return privateKey.compare(ZERO32) > 0 &&\n  // > 0\n  privateKey.compare(EC_GROUP_ORDER) < 0; // < G\n}\n\n// Compare two buffers in constant time to prevent timing attacks.\nfunction equalConstTime(b1, b2) {\n  if (b1.length !== b2.length) {\n    return false;\n  }\n  let res = 0;\n  for (let i = 0; i < b1.length; i++) {\n    res |= b1[i] ^ b2[i]; // jshint ignore:line\n  }\n  return res === 0;\n}\n\n/* This must check if we're in the browser or\nnot, since the functions are different and does\nnot convert using browserify */\nfunction randomBytes(size) {\n  if (typeof browserCrypto.getRandomValues === \"undefined\") {\n    return Buffer.from(browserCrypto.randomBytes(size));\n  }\n  const arr = new Uint8Array(size);\n  browserCrypto.getRandomValues(arr);\n  return Buffer.from(arr);\n}\nasync function sha512(msg) {\n  if (!browserCrypto.createHash) {\n    const hash = await subtle.digest(\"SHA-512\", msg);\n    const result = new Uint8Array(hash);\n    return result;\n  }\n  const hash = browserCrypto.createHash(\"sha512\");\n  const result = hash.update(msg).digest();\n  return new Uint8Array(result);\n}\nfunction getAes(op) {\n  return async function (iv, key, data) {\n    if (subtle && subtle[op] && subtle.importKey) {\n      const importAlgorithm = {\n        name: \"AES-CBC\"\n      };\n      const cryptoKey = await subtle.importKey(\"raw\", key, importAlgorithm, false, [op]);\n      const encAlgorithm = {\n        name: \"AES-CBC\",\n        iv\n      };\n      // encrypt and decrypt ops are not implemented in react-native-quick-crypto yet.\n      const result = await subtle[op](encAlgorithm, cryptoKey, data);\n      return Buffer.from(new Uint8Array(result));\n    } else if (op === \"encrypt\" && browserCrypto.createCipheriv) {\n      // This is available if crypto is polyfilled in react native environment\n      const cipher = browserCrypto.createCipheriv(\"aes-256-cbc\", key, iv);\n      const firstChunk = cipher.update(data);\n      const secondChunk = cipher.final();\n      return Buffer.concat([firstChunk, secondChunk]);\n    } else if (op === \"decrypt\" && browserCrypto.createDecipheriv) {\n      const decipher = browserCrypto.createDecipheriv(\"aes-256-cbc\", key, iv);\n      const firstChunk = decipher.update(data);\n      const secondChunk = decipher.final();\n      return Buffer.concat([firstChunk, secondChunk]);\n    }\n    throw new Error(`Unsupported operation: ${op}`);\n  };\n}\nconst aesCbcEncrypt = getAes(\"encrypt\");\nconst aesCbcDecrypt = getAes(\"decrypt\");\nasync function hmacSha256Sign(key, msg) {\n  if (!browserCrypto.createHmac) {\n    const importAlgorithm = {\n      name: \"HMAC\",\n      hash: {\n        name: \"SHA-256\"\n      }\n    };\n    const cryptoKey = await subtle.importKey(\"raw\", new Uint8Array(key), importAlgorithm, false, [\"sign\", \"verify\"]);\n    const sig = await subtle.sign(\"HMAC\", cryptoKey, msg);\n    const result = Buffer.from(new Uint8Array(sig));\n    return result;\n  }\n  const hmac = browserCrypto.createHmac(\"sha256\", Buffer.from(key));\n  hmac.update(msg);\n  const result = hmac.digest();\n  return result;\n}\nasync function hmacSha256Verify(key, msg, sig) {\n  const expectedSig = await hmacSha256Sign(key, msg);\n  return equalConstTime(expectedSig, sig);\n}\n\n/**\n * Generate a new valid private key. Will use the window.crypto or window.msCrypto as source\n * depending on your browser.\n */\nconst generatePrivate = function () {\n  let privateKey = randomBytes(32);\n  while (!isValidPrivateKey(privateKey)) {\n    privateKey = randomBytes(32);\n  }\n  return privateKey;\n};\nconst getPublic = function (privateKey) {\n  // This function has sync API so we throw an error immediately.\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  // XXX(Kagami): `elliptic.utils.encode` returns array for every\n  // encoding except `hex`.\n  return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(\"array\"));\n};\n\n/**\n * Get compressed version of public key.\n */\nconst getPublicCompressed = function (privateKey) {\n  // jshint ignore:line\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  // See https://github.com/wanderer/secp256k1-node/issues/46\n  const compressed = true;\n  return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(compressed, \"array\"));\n};\n\n// NOTE(Kagami): We don't use promise shim in Browser implementation\n// because it's supported natively in new browsers (see\n// <http://caniuse.com/#feat=promises>) and we can use only new browsers\n// because of the WebCryptoAPI (see\n// <http://caniuse.com/#feat=cryptography>).\nconst sign = async function (privateKey, msg) {\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  assert(msg.length > 0, \"Message should not be empty\");\n  assert(msg.length <= 32, \"Message is too long\");\n  return Buffer.from(ec.sign(msg, privateKey, {\n    canonical: true\n  }).toDER());\n};\nconst verify = async function (publicKey, msg, sig) {\n  assert(publicKey.length === 65 || publicKey.length === 33, \"Bad public key\");\n  if (publicKey.length === 65) {\n    assert(publicKey[0] === 4, \"Bad public key\");\n  }\n  if (publicKey.length === 33) {\n    assert(publicKey[0] === 2 || publicKey[0] === 3, \"Bad public key\");\n  }\n  assert(msg.length > 0, \"Message should not be empty\");\n  assert(msg.length <= 32, \"Message is too long\");\n  if (ec.verify(msg, sig, publicKey)) {\n    return null;\n  }\n  throw new Error(\"Bad signature\");\n};\nconst derive = async function (privateKeyA, publicKeyB) {\n  assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n  assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n  assert(privateKeyA.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n  assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n  if (publicKeyB.length === 65) {\n    assert(publicKeyB[0] === 4, \"Bad public key\");\n  }\n  if (publicKeyB.length === 33) {\n    assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n  }\n  const keyA = ec.keyFromPrivate(privateKeyA);\n  const keyB = ec.keyFromPublic(publicKeyB);\n  const Px = keyA.derive(keyB.getPublic()); // BN instance\n  return Buffer.from(Px.toArray());\n};\nconst deriveUnpadded = derive;\nconst derivePadded = async function (privateKeyA, publicKeyB) {\n  assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n  assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n  assert(privateKeyA.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n  assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n  if (publicKeyB.length === 65) {\n    assert(publicKeyB[0] === 4, \"Bad public key\");\n  }\n  if (publicKeyB.length === 33) {\n    assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n  }\n  const keyA = ec.keyFromPrivate(privateKeyA);\n  const keyB = ec.keyFromPublic(publicKeyB);\n  const Px = keyA.derive(keyB.getPublic()); // BN instance\n  return Buffer.from(Px.toString(16, 64), \"hex\");\n};\nconst encrypt = async function (publicKeyTo, msg, opts) {\n  opts = opts || {};\n  let ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n  // There is a very unlikely possibility that it is not a valid key\n  while (!isValidPrivateKey(ephemPrivateKey)) {\n    ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n  }\n  const ephemPublicKey = getPublic(ephemPrivateKey);\n  const Px = await deriveUnpadded(ephemPrivateKey, publicKeyTo);\n  const hash = await sha512(Px);\n  const iv = opts.iv || randomBytes(16);\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const data = await aesCbcEncrypt(iv, Buffer.from(encryptionKey), msg);\n  const ciphertext = data;\n  const dataToMac = Buffer.concat([iv, ephemPublicKey, ciphertext]);\n  const mac = await hmacSha256Sign(Buffer.from(macKey), dataToMac);\n  return {\n    iv,\n    ephemPublicKey,\n    ciphertext,\n    mac\n  };\n};\nconst decrypt = async function (privateKey, opts, _padding) {\n  const padding = _padding !== null && _padding !== void 0 ? _padding : false;\n  const deriveLocal = padding ? derivePadded : deriveUnpadded;\n  const Px = await deriveLocal(privateKey, opts.ephemPublicKey);\n  const hash = await sha512(Px);\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const dataToMac = Buffer.concat([opts.iv, opts.ephemPublicKey, opts.ciphertext]);\n  const macGood = await hmacSha256Verify(Buffer.from(macKey), dataToMac, opts.mac);\n  if (!macGood && padding === false) {\n    return decrypt(privateKey, opts, true);\n  } else if (!macGood && padding === true) {\n    throw new Error(\"bad MAC after trying padded\");\n  }\n  const msg = await aesCbcDecrypt(opts.iv, Buffer.from(encryptionKey), opts.ciphertext);\n  return Buffer.from(new Uint8Array(msg));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9lY2NyeXB0by9kaXN0L2xpYi5lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDOztBQUV0QyxlQUFlLHdDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGVBQWU7QUFDakMsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxHQUFHO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2VjY3J5cHRvL2Rpc3QvbGliLmVzbS9pbmRleC5qcz80ZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVjIGFzIGVjJDEgfSBmcm9tICdlbGxpcHRpYyc7XG5cbmNvbnN0IGVjID0gbmV3IGVjJDEoXCJzZWNwMjU2azFcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgbi9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9ub2RlLWJ1aWx0aW5zXG5jb25zdCBicm93c2VyQ3J5cHRvID0gZ2xvYmFsVGhpcy5jcnlwdG8gfHwgZ2xvYmFsVGhpcy5tc0NyeXB0byB8fCB7fTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5jb25zdCBzdWJ0bGUgPSBicm93c2VyQ3J5cHRvLnN1YnRsZSB8fCBicm93c2VyQ3J5cHRvLndlYmtpdFN1YnRsZTtcbmNvbnN0IEVDX0dST1VQX09SREVSID0gQnVmZmVyLmZyb20oXCJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWJhYWVkY2U2YWY0OGEwM2JiZmQyNWU4Y2QwMzY0MTQxXCIsIFwiaGV4XCIpO1xuY29uc3QgWkVSTzMyID0gQnVmZmVyLmFsbG9jKDMyLCAwKTtcbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCBcIkFzc2VydGlvbiBmYWlsZWRcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU2NhbGFyKHgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih4KSAmJiB4Lmxlbmd0aCA9PT0gMzI7XG59XG5mdW5jdGlvbiBpc1ZhbGlkUHJpdmF0ZUtleShwcml2YXRlS2V5KSB7XG4gIGlmICghaXNTY2FsYXIocHJpdmF0ZUtleSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHByaXZhdGVLZXkuY29tcGFyZShaRVJPMzIpID4gMCAmJlxuICAvLyA+IDBcbiAgcHJpdmF0ZUtleS5jb21wYXJlKEVDX0dST1VQX09SREVSKSA8IDA7IC8vIDwgR1xufVxuXG4vLyBDb21wYXJlIHR3byBidWZmZXJzIGluIGNvbnN0YW50IHRpbWUgdG8gcHJldmVudCB0aW1pbmcgYXR0YWNrcy5cbmZ1bmN0aW9uIGVxdWFsQ29uc3RUaW1lKGIxLCBiMikge1xuICBpZiAoYjEubGVuZ3RoICE9PSBiMi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IHJlcyA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYjEubGVuZ3RoOyBpKyspIHtcbiAgICByZXMgfD0gYjFbaV0gXiBiMltpXTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gIH1cbiAgcmV0dXJuIHJlcyA9PT0gMDtcbn1cblxuLyogVGhpcyBtdXN0IGNoZWNrIGlmIHdlJ3JlIGluIHRoZSBicm93c2VyIG9yXG5ub3QsIHNpbmNlIHRoZSBmdW5jdGlvbnMgYXJlIGRpZmZlcmVudCBhbmQgZG9lc1xubm90IGNvbnZlcnQgdXNpbmcgYnJvd3NlcmlmeSAqL1xuZnVuY3Rpb24gcmFuZG9tQnl0ZXMoc2l6ZSkge1xuICBpZiAodHlwZW9mIGJyb3dzZXJDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJyb3dzZXJDcnlwdG8ucmFuZG9tQnl0ZXMoc2l6ZSkpO1xuICB9XG4gIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICBicm93c2VyQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnIpO1xuICByZXR1cm4gQnVmZmVyLmZyb20oYXJyKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNoYTUxMihtc2cpIHtcbiAgaWYgKCFicm93c2VyQ3J5cHRvLmNyZWF0ZUhhc2gpIHtcbiAgICBjb25zdCBoYXNoID0gYXdhaXQgc3VidGxlLmRpZ2VzdChcIlNIQS01MTJcIiwgbXNnKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShoYXNoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGNvbnN0IGhhc2ggPSBicm93c2VyQ3J5cHRvLmNyZWF0ZUhhc2goXCJzaGE1MTJcIik7XG4gIGNvbnN0IHJlc3VsdCA9IGhhc2gudXBkYXRlKG1zZykuZGlnZXN0KCk7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xufVxuZnVuY3Rpb24gZ2V0QWVzKG9wKSB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiAoaXYsIGtleSwgZGF0YSkge1xuICAgIGlmIChzdWJ0bGUgJiYgc3VidGxlW29wXSAmJiBzdWJ0bGUuaW1wb3J0S2V5KSB7XG4gICAgICBjb25zdCBpbXBvcnRBbGdvcml0aG0gPSB7XG4gICAgICAgIG5hbWU6IFwiQUVTLUNCQ1wiXG4gICAgICB9O1xuICAgICAgY29uc3QgY3J5cHRvS2V5ID0gYXdhaXQgc3VidGxlLmltcG9ydEtleShcInJhd1wiLCBrZXksIGltcG9ydEFsZ29yaXRobSwgZmFsc2UsIFtvcF0pO1xuICAgICAgY29uc3QgZW5jQWxnb3JpdGhtID0ge1xuICAgICAgICBuYW1lOiBcIkFFUy1DQkNcIixcbiAgICAgICAgaXZcbiAgICAgIH07XG4gICAgICAvLyBlbmNyeXB0IGFuZCBkZWNyeXB0IG9wcyBhcmUgbm90IGltcGxlbWVudGVkIGluIHJlYWN0LW5hdGl2ZS1xdWljay1jcnlwdG8geWV0LlxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VidGxlW29wXShlbmNBbGdvcml0aG0sIGNyeXB0b0tleSwgZGF0YSk7XG4gICAgICByZXR1cm4gQnVmZmVyLmZyb20obmV3IFVpbnQ4QXJyYXkocmVzdWx0KSk7XG4gICAgfSBlbHNlIGlmIChvcCA9PT0gXCJlbmNyeXB0XCIgJiYgYnJvd3NlckNyeXB0by5jcmVhdGVDaXBoZXJpdikge1xuICAgICAgLy8gVGhpcyBpcyBhdmFpbGFibGUgaWYgY3J5cHRvIGlzIHBvbHlmaWxsZWQgaW4gcmVhY3QgbmF0aXZlIGVudmlyb25tZW50XG4gICAgICBjb25zdCBjaXBoZXIgPSBicm93c2VyQ3J5cHRvLmNyZWF0ZUNpcGhlcml2KFwiYWVzLTI1Ni1jYmNcIiwga2V5LCBpdik7XG4gICAgICBjb25zdCBmaXJzdENodW5rID0gY2lwaGVyLnVwZGF0ZShkYXRhKTtcbiAgICAgIGNvbnN0IHNlY29uZENodW5rID0gY2lwaGVyLmZpbmFsKCk7XG4gICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbZmlyc3RDaHVuaywgc2Vjb25kQ2h1bmtdKTtcbiAgICB9IGVsc2UgaWYgKG9wID09PSBcImRlY3J5cHRcIiAmJiBicm93c2VyQ3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYpIHtcbiAgICAgIGNvbnN0IGRlY2lwaGVyID0gYnJvd3NlckNyeXB0by5jcmVhdGVEZWNpcGhlcml2KFwiYWVzLTI1Ni1jYmNcIiwga2V5LCBpdik7XG4gICAgICBjb25zdCBmaXJzdENodW5rID0gZGVjaXBoZXIudXBkYXRlKGRhdGEpO1xuICAgICAgY29uc3Qgc2Vjb25kQ2h1bmsgPSBkZWNpcGhlci5maW5hbCgpO1xuICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW2ZpcnN0Q2h1bmssIHNlY29uZENodW5rXSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgb3BlcmF0aW9uOiAke29wfWApO1xuICB9O1xufVxuY29uc3QgYWVzQ2JjRW5jcnlwdCA9IGdldEFlcyhcImVuY3J5cHRcIik7XG5jb25zdCBhZXNDYmNEZWNyeXB0ID0gZ2V0QWVzKFwiZGVjcnlwdFwiKTtcbmFzeW5jIGZ1bmN0aW9uIGhtYWNTaGEyNTZTaWduKGtleSwgbXNnKSB7XG4gIGlmICghYnJvd3NlckNyeXB0by5jcmVhdGVIbWFjKSB7XG4gICAgY29uc3QgaW1wb3J0QWxnb3JpdGhtID0ge1xuICAgICAgbmFtZTogXCJITUFDXCIsXG4gICAgICBoYXNoOiB7XG4gICAgICAgIG5hbWU6IFwiU0hBLTI1NlwiXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjcnlwdG9LZXkgPSBhd2FpdCBzdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsIG5ldyBVaW50OEFycmF5KGtleSksIGltcG9ydEFsZ29yaXRobSwgZmFsc2UsIFtcInNpZ25cIiwgXCJ2ZXJpZnlcIl0pO1xuICAgIGNvbnN0IHNpZyA9IGF3YWl0IHN1YnRsZS5zaWduKFwiSE1BQ1wiLCBjcnlwdG9LZXksIG1zZyk7XG4gICAgY29uc3QgcmVzdWx0ID0gQnVmZmVyLmZyb20obmV3IFVpbnQ4QXJyYXkoc2lnKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBjb25zdCBobWFjID0gYnJvd3NlckNyeXB0by5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIEJ1ZmZlci5mcm9tKGtleSkpO1xuICBobWFjLnVwZGF0ZShtc2cpO1xuICBjb25zdCByZXN1bHQgPSBobWFjLmRpZ2VzdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuYXN5bmMgZnVuY3Rpb24gaG1hY1NoYTI1NlZlcmlmeShrZXksIG1zZywgc2lnKSB7XG4gIGNvbnN0IGV4cGVjdGVkU2lnID0gYXdhaXQgaG1hY1NoYTI1NlNpZ24oa2V5LCBtc2cpO1xuICByZXR1cm4gZXF1YWxDb25zdFRpbWUoZXhwZWN0ZWRTaWcsIHNpZyk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBuZXcgdmFsaWQgcHJpdmF0ZSBrZXkuIFdpbGwgdXNlIHRoZSB3aW5kb3cuY3J5cHRvIG9yIHdpbmRvdy5tc0NyeXB0byBhcyBzb3VyY2VcbiAqIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXIuXG4gKi9cbmNvbnN0IGdlbmVyYXRlUHJpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHByaXZhdGVLZXkgPSByYW5kb21CeXRlcygzMik7XG4gIHdoaWxlICghaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleSkpIHtcbiAgICBwcml2YXRlS2V5ID0gcmFuZG9tQnl0ZXMoMzIpO1xuICB9XG4gIHJldHVybiBwcml2YXRlS2V5O1xufTtcbmNvbnN0IGdldFB1YmxpYyA9IGZ1bmN0aW9uIChwcml2YXRlS2V5KSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gaGFzIHN5bmMgQVBJIHNvIHdlIHRocm93IGFuIGVycm9yIGltbWVkaWF0ZWx5LlxuICBhc3NlcnQocHJpdmF0ZUtleS5sZW5ndGggPT09IDMyLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KGlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXkpLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgLy8gWFhYKEthZ2FtaSk6IGBlbGxpcHRpYy51dGlscy5lbmNvZGVgIHJldHVybnMgYXJyYXkgZm9yIGV2ZXJ5XG4gIC8vIGVuY29kaW5nIGV4Y2VwdCBgaGV4YC5cbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVjLmtleUZyb21Qcml2YXRlKHByaXZhdGVLZXkpLmdldFB1YmxpYyhcImFycmF5XCIpKTtcbn07XG5cbi8qKlxuICogR2V0IGNvbXByZXNzZWQgdmVyc2lvbiBvZiBwdWJsaWMga2V5LlxuICovXG5jb25zdCBnZXRQdWJsaWNDb21wcmVzc2VkID0gZnVuY3Rpb24gKHByaXZhdGVLZXkpIHtcbiAgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gIGFzc2VydChwcml2YXRlS2V5Lmxlbmd0aCA9PT0gMzIsIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQoaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleSksIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3dhbmRlcmVyL3NlY3AyNTZrMS1ub2RlL2lzc3Vlcy80NlxuICBjb25zdCBjb21wcmVzc2VkID0gdHJ1ZTtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVjLmtleUZyb21Qcml2YXRlKHByaXZhdGVLZXkpLmdldFB1YmxpYyhjb21wcmVzc2VkLCBcImFycmF5XCIpKTtcbn07XG5cbi8vIE5PVEUoS2FnYW1pKTogV2UgZG9uJ3QgdXNlIHByb21pc2Ugc2hpbSBpbiBCcm93c2VyIGltcGxlbWVudGF0aW9uXG4vLyBiZWNhdXNlIGl0J3Mgc3VwcG9ydGVkIG5hdGl2ZWx5IGluIG5ldyBicm93c2VycyAoc2VlXG4vLyA8aHR0cDovL2Nhbml1c2UuY29tLyNmZWF0PXByb21pc2VzPikgYW5kIHdlIGNhbiB1c2Ugb25seSBuZXcgYnJvd3NlcnNcbi8vIGJlY2F1c2Ugb2YgdGhlIFdlYkNyeXB0b0FQSSAoc2VlXG4vLyA8aHR0cDovL2Nhbml1c2UuY29tLyNmZWF0PWNyeXB0b2dyYXBoeT4pLlxuY29uc3Qgc2lnbiA9IGFzeW5jIGZ1bmN0aW9uIChwcml2YXRlS2V5LCBtc2cpIHtcbiAgYXNzZXJ0KHByaXZhdGVLZXkubGVuZ3RoID09PSAzMiwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIGFzc2VydChpc1ZhbGlkUHJpdmF0ZUtleShwcml2YXRlS2V5KSwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIGFzc2VydChtc2cubGVuZ3RoID4gMCwgXCJNZXNzYWdlIHNob3VsZCBub3QgYmUgZW1wdHlcIik7XG4gIGFzc2VydChtc2cubGVuZ3RoIDw9IDMyLCBcIk1lc3NhZ2UgaXMgdG9vIGxvbmdcIik7XG4gIHJldHVybiBCdWZmZXIuZnJvbShlYy5zaWduKG1zZywgcHJpdmF0ZUtleSwge1xuICAgIGNhbm9uaWNhbDogdHJ1ZVxuICB9KS50b0RFUigpKTtcbn07XG5jb25zdCB2ZXJpZnkgPSBhc3luYyBmdW5jdGlvbiAocHVibGljS2V5LCBtc2csIHNpZykge1xuICBhc3NlcnQocHVibGljS2V5Lmxlbmd0aCA9PT0gNjUgfHwgcHVibGljS2V5Lmxlbmd0aCA9PT0gMzMsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIGlmIChwdWJsaWNLZXkubGVuZ3RoID09PSA2NSkge1xuICAgIGFzc2VydChwdWJsaWNLZXlbMF0gPT09IDQsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIH1cbiAgaWYgKHB1YmxpY0tleS5sZW5ndGggPT09IDMzKSB7XG4gICAgYXNzZXJ0KHB1YmxpY0tleVswXSA9PT0gMiB8fCBwdWJsaWNLZXlbMF0gPT09IDMsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIH1cbiAgYXNzZXJ0KG1zZy5sZW5ndGggPiAwLCBcIk1lc3NhZ2Ugc2hvdWxkIG5vdCBiZSBlbXB0eVwiKTtcbiAgYXNzZXJ0KG1zZy5sZW5ndGggPD0gMzIsIFwiTWVzc2FnZSBpcyB0b28gbG9uZ1wiKTtcbiAgaWYgKGVjLnZlcmlmeShtc2csIHNpZywgcHVibGljS2V5KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkJhZCBzaWduYXR1cmVcIik7XG59O1xuY29uc3QgZGVyaXZlID0gYXN5bmMgZnVuY3Rpb24gKHByaXZhdGVLZXlBLCBwdWJsaWNLZXlCKSB7XG4gIGFzc2VydChCdWZmZXIuaXNCdWZmZXIocHJpdmF0ZUtleUEpLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KEJ1ZmZlci5pc0J1ZmZlcihwdWJsaWNLZXlCKSwgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgYXNzZXJ0KHByaXZhdGVLZXlBLmxlbmd0aCA9PT0gMzIsIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQoaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleUEpLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KHB1YmxpY0tleUIubGVuZ3RoID09PSA2NSB8fCBwdWJsaWNLZXlCLmxlbmd0aCA9PT0gMzMsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIGlmIChwdWJsaWNLZXlCLmxlbmd0aCA9PT0gNjUpIHtcbiAgICBhc3NlcnQocHVibGljS2V5QlswXSA9PT0gNCwgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgfVxuICBpZiAocHVibGljS2V5Qi5sZW5ndGggPT09IDMzKSB7XG4gICAgYXNzZXJ0KHB1YmxpY0tleUJbMF0gPT09IDIgfHwgcHVibGljS2V5QlswXSA9PT0gMywgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgfVxuICBjb25zdCBrZXlBID0gZWMua2V5RnJvbVByaXZhdGUocHJpdmF0ZUtleUEpO1xuICBjb25zdCBrZXlCID0gZWMua2V5RnJvbVB1YmxpYyhwdWJsaWNLZXlCKTtcbiAgY29uc3QgUHggPSBrZXlBLmRlcml2ZShrZXlCLmdldFB1YmxpYygpKTsgLy8gQk4gaW5zdGFuY2VcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKFB4LnRvQXJyYXkoKSk7XG59O1xuY29uc3QgZGVyaXZlVW5wYWRkZWQgPSBkZXJpdmU7XG5jb25zdCBkZXJpdmVQYWRkZWQgPSBhc3luYyBmdW5jdGlvbiAocHJpdmF0ZUtleUEsIHB1YmxpY0tleUIpIHtcbiAgYXNzZXJ0KEJ1ZmZlci5pc0J1ZmZlcihwcml2YXRlS2V5QSksIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKHB1YmxpY0tleUIpLCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICBhc3NlcnQocHJpdmF0ZUtleUEubGVuZ3RoID09PSAzMiwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIGFzc2VydChpc1ZhbGlkUHJpdmF0ZUtleShwcml2YXRlS2V5QSksIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQocHVibGljS2V5Qi5sZW5ndGggPT09IDY1IHx8IHB1YmxpY0tleUIubGVuZ3RoID09PSAzMywgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgaWYgKHB1YmxpY0tleUIubGVuZ3RoID09PSA2NSkge1xuICAgIGFzc2VydChwdWJsaWNLZXlCWzBdID09PSA0LCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICB9XG4gIGlmIChwdWJsaWNLZXlCLmxlbmd0aCA9PT0gMzMpIHtcbiAgICBhc3NlcnQocHVibGljS2V5QlswXSA9PT0gMiB8fCBwdWJsaWNLZXlCWzBdID09PSAzLCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICB9XG4gIGNvbnN0IGtleUEgPSBlYy5rZXlGcm9tUHJpdmF0ZShwcml2YXRlS2V5QSk7XG4gIGNvbnN0IGtleUIgPSBlYy5rZXlGcm9tUHVibGljKHB1YmxpY0tleUIpO1xuICBjb25zdCBQeCA9IGtleUEuZGVyaXZlKGtleUIuZ2V0UHVibGljKCkpOyAvLyBCTiBpbnN0YW5jZVxuICByZXR1cm4gQnVmZmVyLmZyb20oUHgudG9TdHJpbmcoMTYsIDY0KSwgXCJoZXhcIik7XG59O1xuY29uc3QgZW5jcnlwdCA9IGFzeW5jIGZ1bmN0aW9uIChwdWJsaWNLZXlUbywgbXNnLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBsZXQgZXBoZW1Qcml2YXRlS2V5ID0gb3B0cy5lcGhlbVByaXZhdGVLZXkgfHwgcmFuZG9tQnl0ZXMoMzIpO1xuICAvLyBUaGVyZSBpcyBhIHZlcnkgdW5saWtlbHkgcG9zc2liaWxpdHkgdGhhdCBpdCBpcyBub3QgYSB2YWxpZCBrZXlcbiAgd2hpbGUgKCFpc1ZhbGlkUHJpdmF0ZUtleShlcGhlbVByaXZhdGVLZXkpKSB7XG4gICAgZXBoZW1Qcml2YXRlS2V5ID0gb3B0cy5lcGhlbVByaXZhdGVLZXkgfHwgcmFuZG9tQnl0ZXMoMzIpO1xuICB9XG4gIGNvbnN0IGVwaGVtUHVibGljS2V5ID0gZ2V0UHVibGljKGVwaGVtUHJpdmF0ZUtleSk7XG4gIGNvbnN0IFB4ID0gYXdhaXQgZGVyaXZlVW5wYWRkZWQoZXBoZW1Qcml2YXRlS2V5LCBwdWJsaWNLZXlUbyk7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBzaGE1MTIoUHgpO1xuICBjb25zdCBpdiA9IG9wdHMuaXYgfHwgcmFuZG9tQnl0ZXMoMTYpO1xuICBjb25zdCBlbmNyeXB0aW9uS2V5ID0gaGFzaC5zbGljZSgwLCAzMik7XG4gIGNvbnN0IG1hY0tleSA9IGhhc2guc2xpY2UoMzIpO1xuICBjb25zdCBkYXRhID0gYXdhaXQgYWVzQ2JjRW5jcnlwdChpdiwgQnVmZmVyLmZyb20oZW5jcnlwdGlvbktleSksIG1zZyk7XG4gIGNvbnN0IGNpcGhlcnRleHQgPSBkYXRhO1xuICBjb25zdCBkYXRhVG9NYWMgPSBCdWZmZXIuY29uY2F0KFtpdiwgZXBoZW1QdWJsaWNLZXksIGNpcGhlcnRleHRdKTtcbiAgY29uc3QgbWFjID0gYXdhaXQgaG1hY1NoYTI1NlNpZ24oQnVmZmVyLmZyb20obWFjS2V5KSwgZGF0YVRvTWFjKTtcbiAgcmV0dXJuIHtcbiAgICBpdixcbiAgICBlcGhlbVB1YmxpY0tleSxcbiAgICBjaXBoZXJ0ZXh0LFxuICAgIG1hY1xuICB9O1xufTtcbmNvbnN0IGRlY3J5cHQgPSBhc3luYyBmdW5jdGlvbiAocHJpdmF0ZUtleSwgb3B0cywgX3BhZGRpbmcpIHtcbiAgY29uc3QgcGFkZGluZyA9IF9wYWRkaW5nICE9PSBudWxsICYmIF9wYWRkaW5nICE9PSB2b2lkIDAgPyBfcGFkZGluZyA6IGZhbHNlO1xuICBjb25zdCBkZXJpdmVMb2NhbCA9IHBhZGRpbmcgPyBkZXJpdmVQYWRkZWQgOiBkZXJpdmVVbnBhZGRlZDtcbiAgY29uc3QgUHggPSBhd2FpdCBkZXJpdmVMb2NhbChwcml2YXRlS2V5LCBvcHRzLmVwaGVtUHVibGljS2V5KTtcbiAgY29uc3QgaGFzaCA9IGF3YWl0IHNoYTUxMihQeCk7XG4gIGNvbnN0IGVuY3J5cHRpb25LZXkgPSBoYXNoLnNsaWNlKDAsIDMyKTtcbiAgY29uc3QgbWFjS2V5ID0gaGFzaC5zbGljZSgzMik7XG4gIGNvbnN0IGRhdGFUb01hYyA9IEJ1ZmZlci5jb25jYXQoW29wdHMuaXYsIG9wdHMuZXBoZW1QdWJsaWNLZXksIG9wdHMuY2lwaGVydGV4dF0pO1xuICBjb25zdCBtYWNHb29kID0gYXdhaXQgaG1hY1NoYTI1NlZlcmlmeShCdWZmZXIuZnJvbShtYWNLZXkpLCBkYXRhVG9NYWMsIG9wdHMubWFjKTtcbiAgaWYgKCFtYWNHb29kICYmIHBhZGRpbmcgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGRlY3J5cHQocHJpdmF0ZUtleSwgb3B0cywgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoIW1hY0dvb2QgJiYgcGFkZGluZyA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJhZCBNQUMgYWZ0ZXIgdHJ5aW5nIHBhZGRlZFwiKTtcbiAgfVxuICBjb25zdCBtc2cgPSBhd2FpdCBhZXNDYmNEZWNyeXB0KG9wdHMuaXYsIEJ1ZmZlci5mcm9tKGVuY3J5cHRpb25LZXkpLCBvcHRzLmNpcGhlcnRleHQpO1xuICByZXR1cm4gQnVmZmVyLmZyb20obmV3IFVpbnQ4QXJyYXkobXNnKSk7XG59O1xuXG5leHBvcnQgeyBkZWNyeXB0LCBkZXJpdmUsIGRlcml2ZVBhZGRlZCwgZGVyaXZlVW5wYWRkZWQsIGVuY3J5cHQsIGdlbmVyYXRlUHJpdmF0ZSwgZ2V0UHVibGljLCBnZXRQdWJsaWNDb21wcmVzc2VkLCBzaWduLCB2ZXJpZnkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/eccrypto/dist/lib.esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAPIKey: () => (/* binding */ clearAPIKey),\n/* harmony export */   clearEmbedHost: () => (/* binding */ clearEmbedHost),\n/* harmony export */   enableSentryTracing: () => (/* binding */ enableSentryTracing),\n/* harmony export */   gatewayAuthHeader: () => (/* binding */ gatewayAuthHeader),\n/* harmony export */   gatewayEmbedHostHeader: () => (/* binding */ gatewayEmbedHostHeader),\n/* harmony export */   generateJsonRPCObject: () => (/* binding */ generateJsonRPCObject),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   getAPIKey: () => (/* binding */ getAPIKey),\n/* harmony export */   getEmbedHost: () => (/* binding */ getEmbedHost),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   promiseRace: () => (/* binding */ promiseRace),\n/* harmony export */   promiseTimeout: () => (/* binding */ promiseTimeout),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   setAPIKey: () => (/* binding */ setAPIKey),\n/* harmony export */   setEmbedHost: () => (/* binding */ setEmbedHost),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deepmerge */ \"(ssr)/./node_modules/deepmerge/dist/cjs.js\");\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst log = loglevel__WEBPACK_IMPORTED_MODULE_2___default().getLogger(\"http-helpers\");\nlog.setLevel(loglevel__WEBPACK_IMPORTED_MODULE_2__.levels.INFO);\nlet apiKey = \"torus-default\";\nlet embedHost = \"\";\n\n// #region API Keys\nconst gatewayAuthHeader = \"x-api-key\";\nconst gatewayEmbedHostHeader = \"x-embed-host\";\nlet sentry = null;\nconst tracingOrigins = [];\nconst tracingPaths = [];\nfunction enableSentryTracing(_sentry, _tracingOrigins, _tracingPaths) {\n  sentry = _sentry;\n  tracingOrigins.push(..._tracingOrigins);\n  tracingPaths.push(..._tracingPaths);\n}\nfunction setEmbedHost(embedHost_) {\n  embedHost = embedHost_;\n}\nfunction clearEmbedHost() {\n  embedHost = \"\";\n}\nfunction getEmbedHost() {\n  return embedHost;\n}\nfunction setAPIKey(apiKey_) {\n  apiKey = apiKey_;\n}\nfunction clearAPIKey() {\n  apiKey = \"torus-default\";\n}\nfunction getAPIKey() {\n  return apiKey;\n}\n\n// #endregion\n\nfunction setLogLevel(level) {\n  log.setLevel(level);\n}\nasync function fetchAndTrace(url, init) {\n  let _url = null;\n  try {\n    _url = new URL(url);\n  } catch (error) {}\n  if (sentry && _url && (tracingOrigins.includes(_url.origin) || tracingPaths.includes(_url.pathname))) {\n    const result = await sentry.startSpan({\n      name: url,\n      op: \"http.client\"\n    }, async () => {\n      const response = await fetch(url, init);\n      return response;\n    });\n    return result;\n  }\n  return fetch(url, init);\n}\nfunction getApiKeyHeaders() {\n  const headers = {};\n  if (apiKey) headers[gatewayAuthHeader] = apiKey;\n  if (embedHost) headers[gatewayEmbedHostHeader] = embedHost;\n  return headers;\n}\nfunction debugLogResponse(response) {\n  log.info(`Response: ${response.status} ${response.statusText}`);\n  log.info(`Url: ${response.url}`);\n}\nfunction logTracingHeader(response) {\n  const tracingHeader = response.headers.get(\"x-web3-correlation-id\");\n  if (tracingHeader) log.info(`Request tracing with traceID = ${tracingHeader}`);\n}\nconst promiseTimeout = async (ms, promise) => {\n  let timeoutFunc = null;\n  try {\n    const timeout = new Promise((_resolve, reject) => {\n      timeoutFunc = setTimeout(() => {\n        reject(new Error(`Timed out in ${ms}ms`));\n      }, ms);\n    });\n    const result = await Promise.race([promise, timeout]);\n    // promise.race will return the first resolved promise\n    // then we clear the timeout\n    if (timeoutFunc != null) {\n      clearTimeout(timeoutFunc);\n    }\n    return result;\n  } catch (err) {\n    // clear the timeout\n    if (timeoutFunc != null) {\n      clearTimeout(timeoutFunc);\n    }\n    // rethrow the original error\n    throw err;\n  }\n};\nconst get = async (url, options_ = {}, customOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {}\n  };\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  options_.method = \"GET\";\n  const options = deepmerge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_);\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    const responseContentType = response.headers.get(\"content-type\");\n    if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n      return response.json();\n    }\n    return response.text();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst post = (url, data = {}, options_ = {}, customOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  options_.method = \"POST\";\n  const options = deepmerge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_);\n\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  return promiseTimeout(customOptions.timeout || 60000, fetchAndTrace(url, options).then(response => {\n    if (customOptions.logTracingHeader) {\n      logTracingHeader(response);\n    }\n    if (response.ok) {\n      const responseContentType = response.headers.get(\"content-type\");\n      if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n        return response.json();\n      }\n      return response.text();\n    }\n    debugLogResponse(response);\n    throw response;\n  }));\n};\nconst patch = async (url, data = {}, options_ = {}, customOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  options_.method = \"PATCH\";\n  const options = deepmerge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_);\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    const responseContentType = response.headers.get(\"content-type\");\n    if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n      return response.json();\n    }\n    return response.text();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst put = async (url, data = {}, options_ = {}, customOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  options_.method = \"PUT\";\n  const options = deepmerge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_);\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    const responseContentType = response.headers.get(\"content-type\");\n    if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n      return response.json();\n    }\n    return response.text();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst remove = async (url, data = {}, options_ = {}, customOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n  options_.method = \"DELETE\";\n  const options = deepmerge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_);\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    const responseContentType = response.headers.get(\"content-type\");\n    if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n      return response.json();\n    }\n    return response.text();\n  }\n  debugLogResponse(response);\n  throw response;\n};\nconst generateJsonRPCObject = (method, parameters) => ({\n  jsonrpc: \"2.0\",\n  method,\n  id: 10,\n  params: parameters\n});\nconst promiseRace = (url, options, timeout = 60000) => Promise.race([get(url, options), new Promise((_resolve, reject) => {\n  setTimeout(() => {\n    reject(new Error(\"timed out\"));\n  }, timeout);\n})]);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9odHRwLWhlbHBlcnMvZGlzdC9saWIuZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRTtBQUNuQztBQUNjOztBQUU1QyxZQUFZLHlEQUFrQjtBQUM5QixhQUFhLDRDQUFNO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCLEVBQUUsb0JBQW9CO0FBQy9ELG1CQUFtQixhQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxjQUFjO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxHQUFHO0FBQzVDLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxvQkFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyRUFBYSxDQUFDLDJFQUFhLEdBQUc7QUFDM0Q7QUFDQTtBQUNBLGtCQUFrQixnREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGVBQWUsb0JBQW9CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkVBQWEsQ0FBQywyRUFBYSxHQUFHO0FBQzNEO0FBQ0E7QUFDQSxrQkFBa0IsZ0RBQUs7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0QsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG1DQUFtQyxlQUFlLG9CQUFvQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDJFQUFhLENBQUMsMkVBQWEsR0FBRztBQUMzRDtBQUNBO0FBQ0Esa0JBQWtCLGdEQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0QsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGVBQWUsb0JBQW9CO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkVBQWEsQ0FBQywyRUFBYSxHQUFHO0FBQzNEO0FBQ0E7QUFDQSxrQkFBa0IsZ0RBQUs7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsZUFBZSxvQkFBb0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyRUFBYSxDQUFDLDJFQUFhLEdBQUc7QUFDM0Q7QUFDQTtBQUNBLGtCQUFrQixnREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0QsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFd1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2h0dHAtaGVscGVycy9kaXN0L2xpYi5lc20vaW5kZXguanM/M2RlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IG1lcmdlIGZyb20gJ2RlZXBtZXJnZSc7XG5pbXBvcnQgbG9nTGV2ZWwsIHsgbGV2ZWxzIH0gZnJvbSAnbG9nbGV2ZWwnO1xuXG5jb25zdCBsb2cgPSBsb2dMZXZlbC5nZXRMb2dnZXIoXCJodHRwLWhlbHBlcnNcIik7XG5sb2cuc2V0TGV2ZWwobGV2ZWxzLklORk8pO1xubGV0IGFwaUtleSA9IFwidG9ydXMtZGVmYXVsdFwiO1xubGV0IGVtYmVkSG9zdCA9IFwiXCI7XG5cbi8vICNyZWdpb24gQVBJIEtleXNcbmNvbnN0IGdhdGV3YXlBdXRoSGVhZGVyID0gXCJ4LWFwaS1rZXlcIjtcbmNvbnN0IGdhdGV3YXlFbWJlZEhvc3RIZWFkZXIgPSBcIngtZW1iZWQtaG9zdFwiO1xubGV0IHNlbnRyeSA9IG51bGw7XG5jb25zdCB0cmFjaW5nT3JpZ2lucyA9IFtdO1xuY29uc3QgdHJhY2luZ1BhdGhzID0gW107XG5mdW5jdGlvbiBlbmFibGVTZW50cnlUcmFjaW5nKF9zZW50cnksIF90cmFjaW5nT3JpZ2lucywgX3RyYWNpbmdQYXRocykge1xuICBzZW50cnkgPSBfc2VudHJ5O1xuICB0cmFjaW5nT3JpZ2lucy5wdXNoKC4uLl90cmFjaW5nT3JpZ2lucyk7XG4gIHRyYWNpbmdQYXRocy5wdXNoKC4uLl90cmFjaW5nUGF0aHMpO1xufVxuZnVuY3Rpb24gc2V0RW1iZWRIb3N0KGVtYmVkSG9zdF8pIHtcbiAgZW1iZWRIb3N0ID0gZW1iZWRIb3N0Xztcbn1cbmZ1bmN0aW9uIGNsZWFyRW1iZWRIb3N0KCkge1xuICBlbWJlZEhvc3QgPSBcIlwiO1xufVxuZnVuY3Rpb24gZ2V0RW1iZWRIb3N0KCkge1xuICByZXR1cm4gZW1iZWRIb3N0O1xufVxuZnVuY3Rpb24gc2V0QVBJS2V5KGFwaUtleV8pIHtcbiAgYXBpS2V5ID0gYXBpS2V5Xztcbn1cbmZ1bmN0aW9uIGNsZWFyQVBJS2V5KCkge1xuICBhcGlLZXkgPSBcInRvcnVzLWRlZmF1bHRcIjtcbn1cbmZ1bmN0aW9uIGdldEFQSUtleSgpIHtcbiAgcmV0dXJuIGFwaUtleTtcbn1cblxuLy8gI2VuZHJlZ2lvblxuXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xuICBsb2cuc2V0TGV2ZWwobGV2ZWwpO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRUcmFjZSh1cmwsIGluaXQpIHtcbiAgbGV0IF91cmwgPSBudWxsO1xuICB0cnkge1xuICAgIF91cmwgPSBuZXcgVVJMKHVybCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7fVxuICBpZiAoc2VudHJ5ICYmIF91cmwgJiYgKHRyYWNpbmdPcmlnaW5zLmluY2x1ZGVzKF91cmwub3JpZ2luKSB8fCB0cmFjaW5nUGF0aHMuaW5jbHVkZXMoX3VybC5wYXRobmFtZSkpKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VudHJ5LnN0YXJ0U3Bhbih7XG4gICAgICBuYW1lOiB1cmwsXG4gICAgICBvcDogXCJodHRwLmNsaWVudFwiXG4gICAgfSwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIGluaXQpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGZldGNoKHVybCwgaW5pdCk7XG59XG5mdW5jdGlvbiBnZXRBcGlLZXlIZWFkZXJzKCkge1xuICBjb25zdCBoZWFkZXJzID0ge307XG4gIGlmIChhcGlLZXkpIGhlYWRlcnNbZ2F0ZXdheUF1dGhIZWFkZXJdID0gYXBpS2V5O1xuICBpZiAoZW1iZWRIb3N0KSBoZWFkZXJzW2dhdGV3YXlFbWJlZEhvc3RIZWFkZXJdID0gZW1iZWRIb3N0O1xuICByZXR1cm4gaGVhZGVycztcbn1cbmZ1bmN0aW9uIGRlYnVnTG9nUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgbG9nLmluZm8oYFJlc3BvbnNlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICBsb2cuaW5mbyhgVXJsOiAke3Jlc3BvbnNlLnVybH1gKTtcbn1cbmZ1bmN0aW9uIGxvZ1RyYWNpbmdIZWFkZXIocmVzcG9uc2UpIHtcbiAgY29uc3QgdHJhY2luZ0hlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwieC13ZWIzLWNvcnJlbGF0aW9uLWlkXCIpO1xuICBpZiAodHJhY2luZ0hlYWRlcikgbG9nLmluZm8oYFJlcXVlc3QgdHJhY2luZyB3aXRoIHRyYWNlSUQgPSAke3RyYWNpbmdIZWFkZXJ9YCk7XG59XG5jb25zdCBwcm9taXNlVGltZW91dCA9IGFzeW5jIChtcywgcHJvbWlzZSkgPT4ge1xuICBsZXQgdGltZW91dEZ1bmMgPSBudWxsO1xuICB0cnkge1xuICAgIGNvbnN0IHRpbWVvdXQgPSBuZXcgUHJvbWlzZSgoX3Jlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGltZW91dEZ1bmMgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgVGltZWQgb3V0IGluICR7bXN9bXNgKSk7XG4gICAgICB9LCBtcyk7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtwcm9taXNlLCB0aW1lb3V0XSk7XG4gICAgLy8gcHJvbWlzZS5yYWNlIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCByZXNvbHZlZCBwcm9taXNlXG4gICAgLy8gdGhlbiB3ZSBjbGVhciB0aGUgdGltZW91dFxuICAgIGlmICh0aW1lb3V0RnVuYyAhPSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dEZ1bmMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBjbGVhciB0aGUgdGltZW91dFxuICAgIGlmICh0aW1lb3V0RnVuYyAhPSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dEZ1bmMpO1xuICAgIH1cbiAgICAvLyByZXRocm93IHRoZSBvcmlnaW5hbCBlcnJvclxuICAgIHRocm93IGVycjtcbiAgfVxufTtcbmNvbnN0IGdldCA9IGFzeW5jICh1cmwsIG9wdGlvbnNfID0ge30sIGN1c3RvbU9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBtb2RlOiBcImNvcnNcIixcbiAgICBoZWFkZXJzOiB7fVxuICB9O1xuICBpZiAoY3VzdG9tT3B0aW9ucy51c2VBUElLZXkpIHtcbiAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzKSwgZ2V0QXBpS2V5SGVhZGVycygpKTtcbiAgfVxuICBvcHRpb25zXy5tZXRob2QgPSBcIkdFVFwiO1xuICBjb25zdCBvcHRpb25zID0gbWVyZ2UoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnNfKTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEFuZFRyYWNlKHVybCwgb3B0aW9ucyk7XG4gIGlmIChyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICBpZiAocmVzcG9uc2VDb250ZW50VHlwZSAhPT0gbnVsbCAmJiByZXNwb25zZUNvbnRlbnRUeXBlICE9PSB2b2lkIDAgJiYgcmVzcG9uc2VDb250ZW50VHlwZS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgZGVidWdMb2dSZXNwb25zZShyZXNwb25zZSk7XG4gIHRocm93IHJlc3BvbnNlO1xufTtcbmNvbnN0IHBvc3QgPSAodXJsLCBkYXRhID0ge30sIG9wdGlvbnNfID0ge30sIGN1c3RvbU9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBtb2RlOiBcImNvcnNcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIlxuICAgIH1cbiAgfTtcbiAgaWYgKGN1c3RvbU9wdGlvbnMudXNlQVBJS2V5KSB7XG4gICAgZGVmYXVsdE9wdGlvbnMuaGVhZGVycyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMuaGVhZGVycyksIGdldEFwaUtleUhlYWRlcnMoKSk7XG4gIH1cbiAgb3B0aW9uc18ubWV0aG9kID0gXCJQT1NUXCI7XG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZShkZWZhdWx0T3B0aW9ucywgb3B0aW9uc18pO1xuXG4gIC8vIGRlZXAgbWVyZ2UgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIGZvcm0gZGF0YSBhbmQgdXJsIGVuY29kZWQgZGF0YSAsXG4gIC8vIHNvIHdlIHNob3VsZCBub3QgZGVlcG1lcmdlIGJvZHkgZGF0YVxuICBpZiAoY3VzdG9tT3B0aW9ucy5pc1VybEVuY29kZWREYXRhKSB7XG4gICAgLy8gZm9yIG11bHRpcGFydCByZXF1ZXN0IGJyb3dzZXIvY2xpZW50IHdpbGwgYWRkIG11bHRpcGFydCBjb250ZW50IHR5cGVcbiAgICAvLyBhbG9uZyB3aXRoIG11bHRpcGFydCBib3VuZGFyeSAsIHNvIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBzZW5kXG4gICAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gICAgb3B0aW9ucy5ib2R5ID0gZGF0YTtcbiAgICAvLyBJZiB1cmwgZW5jb2RlZCBkYXRhLCB0aGlzIG11c3Qgbm90IGJlIHRoZSBjb250ZW50IHR5cGVcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID09PSBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIikgZGVsZXRlIG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZVRpbWVvdXQoY3VzdG9tT3B0aW9ucy50aW1lb3V0IHx8IDYwMDAwLCBmZXRjaEFuZFRyYWNlKHVybCwgb3B0aW9ucykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgaWYgKGN1c3RvbU9wdGlvbnMubG9nVHJhY2luZ0hlYWRlcikge1xuICAgICAgbG9nVHJhY2luZ0hlYWRlcihyZXNwb25zZSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgcmVzcG9uc2VDb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgICAgaWYgKHJlc3BvbnNlQ29udGVudFR5cGUgIT09IG51bGwgJiYgcmVzcG9uc2VDb250ZW50VHlwZSAhPT0gdm9pZCAwICYmIHJlc3BvbnNlQ29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB0aHJvdyByZXNwb25zZTtcbiAgfSkpO1xufTtcbmNvbnN0IHBhdGNoID0gYXN5bmMgKHVybCwgZGF0YSA9IHt9LCBvcHRpb25zXyA9IHt9LCBjdXN0b21PcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJcbiAgICB9XG4gIH07XG4gIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gIC8vIGFsb25nIHdpdGggbXVsdGlwYXJ0IGJvdW5kYXJ5ICwgc28gZm9yIG11bHRpcGFydCByZXF1ZXN0IHNlbmRcbiAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gIGlmIChjdXN0b21PcHRpb25zLnVzZUFQSUtleSkge1xuICAgIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMpLCBnZXRBcGlLZXlIZWFkZXJzKCkpO1xuICB9XG4gIG9wdGlvbnNfLm1ldGhvZCA9IFwiUEFUQ0hcIjtcbiAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zXyk7XG4gIC8vIGRlZXAgbWVyZ2UgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIGZvcm0gZGF0YSBhbmQgdXJsIGVuY29kZWQgZGF0YSAsXG4gIC8vIHNvIHdlIHNob3VsZCBub3QgZGVlcG1lcmdlIGJvZHkgZGF0YVxuICBpZiAoY3VzdG9tT3B0aW9ucy5pc1VybEVuY29kZWREYXRhKSB7XG4gICAgLy8gZm9yIG11bHRpcGFydCByZXF1ZXN0IGJyb3dzZXIvY2xpZW50IHdpbGwgYWRkIG11bHRpcGFydCBjb250ZW50IHR5cGVcbiAgICAvLyBhbG9uZyB3aXRoIG11bHRpcGFydCBib3VuZGFyeSAsIHNvIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBzZW5kXG4gICAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gICAgb3B0aW9ucy5ib2R5ID0gZGF0YTtcbiAgICAvLyBJZiB1cmwgZW5jb2RlZCBkYXRhLCB0aGlzIG11c3Qgbm90IGJlIHRoZSBjb250ZW50IHR5cGVcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID09PSBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIikgZGVsZXRlIG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgfVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoQW5kVHJhY2UodXJsLCBvcHRpb25zKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgcmVzcG9uc2VDb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgIGlmIChyZXNwb25zZUNvbnRlbnRUeXBlICE9PSBudWxsICYmIHJlc3BvbnNlQ29udGVudFR5cGUgIT09IHZvaWQgMCAmJiByZXNwb25zZUNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfVxuICBkZWJ1Z0xvZ1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgdGhyb3cgcmVzcG9uc2U7XG59O1xuY29uc3QgcHV0ID0gYXN5bmMgKHVybCwgZGF0YSA9IHt9LCBvcHRpb25zXyA9IHt9LCBjdXN0b21PcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJcbiAgICB9XG4gIH07XG4gIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gIC8vIGFsb25nIHdpdGggbXVsdGlwYXJ0IGJvdW5kYXJ5ICwgc28gZm9yIG11bHRpcGFydCByZXF1ZXN0IHNlbmRcbiAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gIGlmIChjdXN0b21PcHRpb25zLnVzZUFQSUtleSkge1xuICAgIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMpLCBnZXRBcGlLZXlIZWFkZXJzKCkpO1xuICB9XG4gIG9wdGlvbnNfLm1ldGhvZCA9IFwiUFVUXCI7XG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZShkZWZhdWx0T3B0aW9ucywgb3B0aW9uc18pO1xuICAvLyBkZWVwIG1lcmdlIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiBmb3JtIGRhdGEgYW5kIHVybCBlbmNvZGVkIGRhdGEgLFxuICAvLyBzbyB3ZSBzaG91bGQgbm90IGRlZXBtZXJnZSBib2R5IGRhdGFcbiAgaWYgKGN1c3RvbU9wdGlvbnMuaXNVcmxFbmNvZGVkRGF0YSkge1xuICAgIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gICAgLy8gYWxvbmcgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgLCBzbyBmb3IgbXVsdGlwYXJ0IHJlcXVlc3Qgc2VuZFxuICAgIC8vIGNvbnRlbnQtdHlwZTogdW5kZWZpbmVkIG9yIHNlbmQgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgaWYgYWxyZWFkeSBrbm93blxuICAgIG9wdGlvbnMuYm9keSA9IGRhdGE7XG4gICAgLy8gSWYgdXJsIGVuY29kZWQgZGF0YSwgdGhpcyBtdXN0IG5vdCBiZSB0aGUgY29udGVudCB0eXBlXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpIGRlbGV0ZSBvcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEFuZFRyYWNlKHVybCwgb3B0aW9ucyk7XG4gIGlmIChyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICBpZiAocmVzcG9uc2VDb250ZW50VHlwZSAhPT0gbnVsbCAmJiByZXNwb25zZUNvbnRlbnRUeXBlICE9PSB2b2lkIDAgJiYgcmVzcG9uc2VDb250ZW50VHlwZS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgZGVidWdMb2dSZXNwb25zZShyZXNwb25zZSk7XG4gIHRocm93IHJlc3BvbnNlO1xufTtcbmNvbnN0IHJlbW92ZSA9IGFzeW5jICh1cmwsIGRhdGEgPSB7fSwgb3B0aW9uc18gPSB7fSwgY3VzdG9tT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiXG4gICAgfVxuICB9O1xuICAvLyBmb3IgbXVsdGlwYXJ0IHJlcXVlc3QgYnJvd3Nlci9jbGllbnQgd2lsbCBhZGQgbXVsdGlwYXJ0IGNvbnRlbnQgdHlwZVxuICAvLyBhbG9uZyB3aXRoIG11bHRpcGFydCBib3VuZGFyeSAsIHNvIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBzZW5kXG4gIC8vIGNvbnRlbnQtdHlwZTogdW5kZWZpbmVkIG9yIHNlbmQgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgaWYgYWxyZWFkeSBrbm93blxuICBpZiAoY3VzdG9tT3B0aW9ucy51c2VBUElLZXkpIHtcbiAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzKSwgZ2V0QXBpS2V5SGVhZGVycygpKTtcbiAgfVxuICBvcHRpb25zXy5tZXRob2QgPSBcIkRFTEVURVwiO1xuICBjb25zdCBvcHRpb25zID0gbWVyZ2UoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnNfKTtcbiAgaWYgKGN1c3RvbU9wdGlvbnMuaXNVcmxFbmNvZGVkRGF0YSkge1xuICAgIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gICAgLy8gYWxvbmcgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgLCBzbyBmb3IgbXVsdGlwYXJ0IHJlcXVlc3Qgc2VuZFxuICAgIC8vIGNvbnRlbnQtdHlwZTogdW5kZWZpbmVkIG9yIHNlbmQgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgaWYgYWxyZWFkeSBrbm93blxuICAgIG9wdGlvbnMuYm9keSA9IGRhdGE7XG4gICAgLy8gSWYgdXJsIGVuY29kZWQgZGF0YSwgdGhpcyBtdXN0IG5vdCBiZSB0aGUgY29udGVudCB0eXBlXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpIGRlbGV0ZSBvcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEFuZFRyYWNlKHVybCwgb3B0aW9ucyk7XG4gIGlmIChyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICBpZiAocmVzcG9uc2VDb250ZW50VHlwZSAhPT0gbnVsbCAmJiByZXNwb25zZUNvbnRlbnRUeXBlICE9PSB2b2lkIDAgJiYgcmVzcG9uc2VDb250ZW50VHlwZS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgZGVidWdMb2dSZXNwb25zZShyZXNwb25zZSk7XG4gIHRocm93IHJlc3BvbnNlO1xufTtcbmNvbnN0IGdlbmVyYXRlSnNvblJQQ09iamVjdCA9IChtZXRob2QsIHBhcmFtZXRlcnMpID0+ICh7XG4gIGpzb25ycGM6IFwiMi4wXCIsXG4gIG1ldGhvZCxcbiAgaWQ6IDEwLFxuICBwYXJhbXM6IHBhcmFtZXRlcnNcbn0pO1xuY29uc3QgcHJvbWlzZVJhY2UgPSAodXJsLCBvcHRpb25zLCB0aW1lb3V0ID0gNjAwMDApID0+IFByb21pc2UucmFjZShbZ2V0KHVybCwgb3B0aW9ucyksIG5ldyBQcm9taXNlKChfcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHJlamVjdChuZXcgRXJyb3IoXCJ0aW1lZCBvdXRcIikpO1xuICB9LCB0aW1lb3V0KTtcbn0pXSk7XG5cbmV4cG9ydCB7IGNsZWFyQVBJS2V5LCBjbGVhckVtYmVkSG9zdCwgZW5hYmxlU2VudHJ5VHJhY2luZywgZ2F0ZXdheUF1dGhIZWFkZXIsIGdhdGV3YXlFbWJlZEhvc3RIZWFkZXIsIGdlbmVyYXRlSnNvblJQQ09iamVjdCwgZ2V0LCBnZXRBUElLZXksIGdldEVtYmVkSG9zdCwgcGF0Y2gsIHBvc3QsIHByb21pc2VSYWNlLCBwcm9taXNlVGltZW91dCwgcHV0LCByZW1vdmUsIHNldEFQSUtleSwgc2V0RW1iZWRIb3N0LCBzZXRMb2dMZXZlbCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/utils.js":
/*!************************************************************************!*\
  !*** ./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/utils.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ec: () => (/* binding */ ec),\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! elliptic */ \"(ssr)/./node_modules/elliptic/lib/elliptic.js\");\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(elliptic__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ethereum_cryptography_keccak__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/keccak */ \"(ssr)/./node_modules/ethereum-cryptography/esm/keccak.js\");\n\n\n\nfunction keccak256(a) {\n  return Buffer.from((0,ethereum_cryptography_keccak__WEBPACK_IMPORTED_MODULE_1__.keccak256)(a));\n}\nconst ec = new elliptic__WEBPACK_IMPORTED_MODULE_0__.ec(\"secp256k1\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9tZXRhZGF0YS1oZWxwZXJzL2Rpc3QvbGliLmVzbS91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzQztBQUNrQzs7QUFFeEU7QUFDQSxxQkFBcUIsdUVBQVc7QUFDaEM7QUFDQSxlQUFlLHdDQUFJOztBQUVNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9tZXRhZGF0YS1oZWxwZXJzL2Rpc3QvbGliLmVzbS91dGlscy5qcz85MWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVjIGFzIGVjJDEgfSBmcm9tICdlbGxpcHRpYyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgYXMga2VjY2FrMjU2JDEgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkva2VjY2FrJztcblxuZnVuY3Rpb24ga2VjY2FrMjU2KGEpIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGtlY2NhazI1NiQxKGEpKTtcbn1cbmNvbnN0IGVjID0gbmV3IGVjJDEoXCJzZWNwMjU2azFcIik7XG5cbmV4cG9ydCB7IGVjLCBrZWNjYWsyNTYgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/webAuthnShareResolver.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/webAuthnShareResolver.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decryptData: () => (/* binding */ decryptData),\n/* harmony export */   encParamsBufToHex: () => (/* binding */ encParamsBufToHex),\n/* harmony export */   encParamsHexToBuf: () => (/* binding */ encParamsHexToBuf),\n/* harmony export */   encryptAndSetData: () => (/* binding */ encryptAndSetData),\n/* harmony export */   encryptData: () => (/* binding */ encryptData),\n/* harmony export */   getAndDecryptData: () => (/* binding */ getAndDecryptData),\n/* harmony export */   getDeviceShare: () => (/* binding */ getDeviceShare),\n/* harmony export */   getTorusShare: () => (/* binding */ getTorusShare),\n/* harmony export */   setDeviceShare: () => (/* binding */ setDeviceShare),\n/* harmony export */   setTorusShare: () => (/* binding */ setTorusShare)\n/* harmony export */ });\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/lib.esm/index.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/utils.js\");\n\n\n\nconst WEBAUTHN_TORUS_SHARE = \"webauthn_torus_share\";\nconst WEBAUTHN_DEVICE_SHARE = \"webauthn_device_share\";\nfunction encParamsHexToBuf(encParamsHex) {\n  return {\n    iv: Buffer.from(encParamsHex.iv, \"hex\"),\n    ephemPublicKey: Buffer.from(encParamsHex.ephemPublicKey, \"hex\"),\n    ciphertext: Buffer.from(encParamsHex.ciphertext, \"hex\"),\n    mac: Buffer.from(encParamsHex.mac, \"hex\")\n  };\n}\nfunction encParamsBufToHex(encParams) {\n  return {\n    iv: Buffer.from(encParams.iv).toString(\"hex\"),\n    ephemPublicKey: Buffer.from(encParams.ephemPublicKey).toString(\"hex\"),\n    ciphertext: Buffer.from(encParams.ciphertext).toString(\"hex\"),\n    mac: Buffer.from(encParams.mac).toString(\"hex\")\n  };\n}\nasync function encryptData(privKeyHex, d) {\n  const serializedDec = JSON.stringify(d);\n  const serializedBuf = Buffer.from(serializedDec, \"utf-8\");\n  const encParams = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_0__.encrypt)((0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_0__.getPublic)(Buffer.from(privKeyHex, \"hex\")), serializedBuf);\n  const encParamsHex = encParamsBufToHex(encParams);\n  const sData = JSON.stringify(encParamsHex);\n  return sData;\n}\nasync function decryptData(privKeyHex, d) {\n  const encParamsHex = JSON.parse(d);\n  const encParams = encParamsHexToBuf(encParamsHex);\n  const keyPair = _utils_js__WEBPACK_IMPORTED_MODULE_1__.ec.keyFromPrivate(privKeyHex);\n  const serializedBuf = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_0__.decrypt)(Buffer.from(keyPair.getPrivate().toString(\"hex\", 64), \"hex\"), encParams);\n  const serializedDec = serializedBuf.toString(\"utf-8\");\n  const data = JSON.parse(serializedDec);\n  return data;\n}\nasync function getAndDecryptData(m, privKeyHex, namespace) {\n  const keyPair = _utils_js__WEBPACK_IMPORTED_MODULE_1__.ec.keyFromPrivate(privKeyHex, \"hex\");\n  const pubKey = keyPair.getPublic();\n  const serializedData = await m.getMetadata({\n    pub_key_X: pubKey.getX().toString(16, 64),\n    pub_key_Y: pubKey.getY().toString(16, 64)\n  }, namespace);\n  if (!serializedData) {\n    return null;\n  }\n  const data = await decryptData(privKeyHex, serializedData);\n  return data;\n}\nasync function encryptAndSetData(m, privKeyHex, d, namespace) {\n  const sData = await encryptData(privKeyHex, d);\n  const metadataParams = m.generateMetadataParams(sData, privKeyHex);\n  await m.setMetadata(metadataParams, namespace);\n}\nasync function setTorusShare(m, webAuthnPubKey, webAuthnRefHex, subspace, subspaceData) {\n  const refKeyPair = _utils_js__WEBPACK_IMPORTED_MODULE_1__.ec.keyFromPrivate(webAuthnRefHex);\n  const privKey = refKeyPair.getPrivate();\n  const pubKey = _utils_js__WEBPACK_IMPORTED_MODULE_1__.ec.keyFromPublic({\n    x: webAuthnPubKey.pub_key_X,\n    y: webAuthnPubKey.pub_key_Y\n  });\n  const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_TORUS_SHARE);\n  let d = {};\n  if (data) d = data;\n  const serializedSubspaceData = JSON.stringify(subspaceData);\n  const serializedSubspaceDataBuf = Buffer.from(serializedSubspaceData, \"utf-8\");\n  const encSubspaceData = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_0__.encrypt)(Buffer.from(pubKey.getPublic(\"hex\"), \"hex\"), serializedSubspaceDataBuf);\n  const encSubspaceDataHex = encParamsBufToHex(encSubspaceData);\n  d[subspace] = encSubspaceDataHex;\n  await encryptAndSetData(m, privKey.toString(\"hex\", 64), d, WEBAUTHN_TORUS_SHARE);\n}\nasync function setDeviceShare(m, webAuthnRefHex, subspace, subspaceData) {\n  const keyPair = _utils_js__WEBPACK_IMPORTED_MODULE_1__.ec.keyFromPrivate(webAuthnRefHex);\n  const privKey = keyPair.getPrivate();\n  const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_DEVICE_SHARE);\n  let d = {};\n  if (data) d = data;\n  d[subspace] = subspaceData;\n  await encryptAndSetData(m, privKey.toString(\"hex\", 64), d, WEBAUTHN_DEVICE_SHARE);\n}\nasync function getTorusShare(m, webAuthnKeyHex, webAuthnRefHex, subspace) {\n  const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_TORUS_SHARE);\n  if (!data) return null;\n  const encParamsHex = data[subspace];\n  if (!encParamsHex) return null;\n  const encParams = encParamsHexToBuf(encParamsHex);\n  const keyPair = _utils_js__WEBPACK_IMPORTED_MODULE_1__.ec.keyFromPrivate(webAuthnKeyHex);\n  const privKey = keyPair.getPrivate();\n  const serializedSubspaceDataBuf = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_0__.decrypt)(Buffer.from(privKey.toString(\"hex\", 64), \"hex\"), encParams);\n  const serializedSubspaceData = serializedSubspaceDataBuf.toString(\"utf-8\");\n  const subspaceData = JSON.parse(serializedSubspaceData);\n  return subspaceData;\n}\nasync function getDeviceShare(m, webAuthnRefHex, subspace) {\n  const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_DEVICE_SHARE);\n  if (data) return data[subspace];\n  return null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9tZXRhZGF0YS1oZWxwZXJzL2Rpc3QvbGliLmVzbS93ZWJBdXRoblNoYXJlUmVzb2x2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWtFO0FBQ2xDOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQU8sQ0FBQyw4REFBUztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5Q0FBRTtBQUNwQiw4QkFBOEIsNERBQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5Q0FBRTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseUNBQUU7QUFDdkI7QUFDQSxpQkFBaUIseUNBQUU7QUFDbkI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDREQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUNBQUU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUNBQUU7QUFDcEI7QUFDQSwwQ0FBMEMsNERBQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4SyIsInNvdXJjZXMiOlsid2VicGFjazovL3dhc3RlLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvbWV0YWRhdGEtaGVscGVycy9kaXN0L2xpYi5lc20vd2ViQXV0aG5TaGFyZVJlc29sdmVyLmpzPzBhNzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5jcnlwdCwgZ2V0UHVibGljLCBkZWNyeXB0IH0gZnJvbSAnQHRvcnVzbGFicy9lY2NyeXB0byc7XG5pbXBvcnQgeyBlYyB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5jb25zdCBXRUJBVVRITl9UT1JVU19TSEFSRSA9IFwid2ViYXV0aG5fdG9ydXNfc2hhcmVcIjtcbmNvbnN0IFdFQkFVVEhOX0RFVklDRV9TSEFSRSA9IFwid2ViYXV0aG5fZGV2aWNlX3NoYXJlXCI7XG5mdW5jdGlvbiBlbmNQYXJhbXNIZXhUb0J1ZihlbmNQYXJhbXNIZXgpIHtcbiAgcmV0dXJuIHtcbiAgICBpdjogQnVmZmVyLmZyb20oZW5jUGFyYW1zSGV4Lml2LCBcImhleFwiKSxcbiAgICBlcGhlbVB1YmxpY0tleTogQnVmZmVyLmZyb20oZW5jUGFyYW1zSGV4LmVwaGVtUHVibGljS2V5LCBcImhleFwiKSxcbiAgICBjaXBoZXJ0ZXh0OiBCdWZmZXIuZnJvbShlbmNQYXJhbXNIZXguY2lwaGVydGV4dCwgXCJoZXhcIiksXG4gICAgbWFjOiBCdWZmZXIuZnJvbShlbmNQYXJhbXNIZXgubWFjLCBcImhleFwiKVxuICB9O1xufVxuZnVuY3Rpb24gZW5jUGFyYW1zQnVmVG9IZXgoZW5jUGFyYW1zKSB7XG4gIHJldHVybiB7XG4gICAgaXY6IEJ1ZmZlci5mcm9tKGVuY1BhcmFtcy5pdikudG9TdHJpbmcoXCJoZXhcIiksXG4gICAgZXBoZW1QdWJsaWNLZXk6IEJ1ZmZlci5mcm9tKGVuY1BhcmFtcy5lcGhlbVB1YmxpY0tleSkudG9TdHJpbmcoXCJoZXhcIiksXG4gICAgY2lwaGVydGV4dDogQnVmZmVyLmZyb20oZW5jUGFyYW1zLmNpcGhlcnRleHQpLnRvU3RyaW5nKFwiaGV4XCIpLFxuICAgIG1hYzogQnVmZmVyLmZyb20oZW5jUGFyYW1zLm1hYykudG9TdHJpbmcoXCJoZXhcIilcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHREYXRhKHByaXZLZXlIZXgsIGQpIHtcbiAgY29uc3Qgc2VyaWFsaXplZERlYyA9IEpTT04uc3RyaW5naWZ5KGQpO1xuICBjb25zdCBzZXJpYWxpemVkQnVmID0gQnVmZmVyLmZyb20oc2VyaWFsaXplZERlYywgXCJ1dGYtOFwiKTtcbiAgY29uc3QgZW5jUGFyYW1zID0gYXdhaXQgZW5jcnlwdChnZXRQdWJsaWMoQnVmZmVyLmZyb20ocHJpdktleUhleCwgXCJoZXhcIikpLCBzZXJpYWxpemVkQnVmKTtcbiAgY29uc3QgZW5jUGFyYW1zSGV4ID0gZW5jUGFyYW1zQnVmVG9IZXgoZW5jUGFyYW1zKTtcbiAgY29uc3Qgc0RhdGEgPSBKU09OLnN0cmluZ2lmeShlbmNQYXJhbXNIZXgpO1xuICByZXR1cm4gc0RhdGE7XG59XG5hc3luYyBmdW5jdGlvbiBkZWNyeXB0RGF0YShwcml2S2V5SGV4LCBkKSB7XG4gIGNvbnN0IGVuY1BhcmFtc0hleCA9IEpTT04ucGFyc2UoZCk7XG4gIGNvbnN0IGVuY1BhcmFtcyA9IGVuY1BhcmFtc0hleFRvQnVmKGVuY1BhcmFtc0hleCk7XG4gIGNvbnN0IGtleVBhaXIgPSBlYy5rZXlGcm9tUHJpdmF0ZShwcml2S2V5SGV4KTtcbiAgY29uc3Qgc2VyaWFsaXplZEJ1ZiA9IGF3YWl0IGRlY3J5cHQoQnVmZmVyLmZyb20oa2V5UGFpci5nZXRQcml2YXRlKCkudG9TdHJpbmcoXCJoZXhcIiwgNjQpLCBcImhleFwiKSwgZW5jUGFyYW1zKTtcbiAgY29uc3Qgc2VyaWFsaXplZERlYyA9IHNlcmlhbGl6ZWRCdWYudG9TdHJpbmcoXCJ1dGYtOFwiKTtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZERlYyk7XG4gIHJldHVybiBkYXRhO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0QW5kRGVjcnlwdERhdGEobSwgcHJpdktleUhleCwgbmFtZXNwYWNlKSB7XG4gIGNvbnN0IGtleVBhaXIgPSBlYy5rZXlGcm9tUHJpdmF0ZShwcml2S2V5SGV4LCBcImhleFwiKTtcbiAgY29uc3QgcHViS2V5ID0ga2V5UGFpci5nZXRQdWJsaWMoKTtcbiAgY29uc3Qgc2VyaWFsaXplZERhdGEgPSBhd2FpdCBtLmdldE1ldGFkYXRhKHtcbiAgICBwdWJfa2V5X1g6IHB1YktleS5nZXRYKCkudG9TdHJpbmcoMTYsIDY0KSxcbiAgICBwdWJfa2V5X1k6IHB1YktleS5nZXRZKCkudG9TdHJpbmcoMTYsIDY0KVxuICB9LCBuYW1lc3BhY2UpO1xuICBpZiAoIXNlcmlhbGl6ZWREYXRhKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZGF0YSA9IGF3YWl0IGRlY3J5cHREYXRhKHByaXZLZXlIZXgsIHNlcmlhbGl6ZWREYXRhKTtcbiAgcmV0dXJuIGRhdGE7XG59XG5hc3luYyBmdW5jdGlvbiBlbmNyeXB0QW5kU2V0RGF0YShtLCBwcml2S2V5SGV4LCBkLCBuYW1lc3BhY2UpIHtcbiAgY29uc3Qgc0RhdGEgPSBhd2FpdCBlbmNyeXB0RGF0YShwcml2S2V5SGV4LCBkKTtcbiAgY29uc3QgbWV0YWRhdGFQYXJhbXMgPSBtLmdlbmVyYXRlTWV0YWRhdGFQYXJhbXMoc0RhdGEsIHByaXZLZXlIZXgpO1xuICBhd2FpdCBtLnNldE1ldGFkYXRhKG1ldGFkYXRhUGFyYW1zLCBuYW1lc3BhY2UpO1xufVxuYXN5bmMgZnVuY3Rpb24gc2V0VG9ydXNTaGFyZShtLCB3ZWJBdXRoblB1YktleSwgd2ViQXV0aG5SZWZIZXgsIHN1YnNwYWNlLCBzdWJzcGFjZURhdGEpIHtcbiAgY29uc3QgcmVmS2V5UGFpciA9IGVjLmtleUZyb21Qcml2YXRlKHdlYkF1dGhuUmVmSGV4KTtcbiAgY29uc3QgcHJpdktleSA9IHJlZktleVBhaXIuZ2V0UHJpdmF0ZSgpO1xuICBjb25zdCBwdWJLZXkgPSBlYy5rZXlGcm9tUHVibGljKHtcbiAgICB4OiB3ZWJBdXRoblB1YktleS5wdWJfa2V5X1gsXG4gICAgeTogd2ViQXV0aG5QdWJLZXkucHViX2tleV9ZXG4gIH0pO1xuICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0QW5kRGVjcnlwdERhdGEobSwgd2ViQXV0aG5SZWZIZXgsIFdFQkFVVEhOX1RPUlVTX1NIQVJFKTtcbiAgbGV0IGQgPSB7fTtcbiAgaWYgKGRhdGEpIGQgPSBkYXRhO1xuICBjb25zdCBzZXJpYWxpemVkU3Vic3BhY2VEYXRhID0gSlNPTi5zdHJpbmdpZnkoc3Vic3BhY2VEYXRhKTtcbiAgY29uc3Qgc2VyaWFsaXplZFN1YnNwYWNlRGF0YUJ1ZiA9IEJ1ZmZlci5mcm9tKHNlcmlhbGl6ZWRTdWJzcGFjZURhdGEsIFwidXRmLThcIik7XG4gIGNvbnN0IGVuY1N1YnNwYWNlRGF0YSA9IGF3YWl0IGVuY3J5cHQoQnVmZmVyLmZyb20ocHViS2V5LmdldFB1YmxpYyhcImhleFwiKSwgXCJoZXhcIiksIHNlcmlhbGl6ZWRTdWJzcGFjZURhdGFCdWYpO1xuICBjb25zdCBlbmNTdWJzcGFjZURhdGFIZXggPSBlbmNQYXJhbXNCdWZUb0hleChlbmNTdWJzcGFjZURhdGEpO1xuICBkW3N1YnNwYWNlXSA9IGVuY1N1YnNwYWNlRGF0YUhleDtcbiAgYXdhaXQgZW5jcnlwdEFuZFNldERhdGEobSwgcHJpdktleS50b1N0cmluZyhcImhleFwiLCA2NCksIGQsIFdFQkFVVEhOX1RPUlVTX1NIQVJFKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNldERldmljZVNoYXJlKG0sIHdlYkF1dGhuUmVmSGV4LCBzdWJzcGFjZSwgc3Vic3BhY2VEYXRhKSB7XG4gIGNvbnN0IGtleVBhaXIgPSBlYy5rZXlGcm9tUHJpdmF0ZSh3ZWJBdXRoblJlZkhleCk7XG4gIGNvbnN0IHByaXZLZXkgPSBrZXlQYWlyLmdldFByaXZhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGdldEFuZERlY3J5cHREYXRhKG0sIHdlYkF1dGhuUmVmSGV4LCBXRUJBVVRITl9ERVZJQ0VfU0hBUkUpO1xuICBsZXQgZCA9IHt9O1xuICBpZiAoZGF0YSkgZCA9IGRhdGE7XG4gIGRbc3Vic3BhY2VdID0gc3Vic3BhY2VEYXRhO1xuICBhd2FpdCBlbmNyeXB0QW5kU2V0RGF0YShtLCBwcml2S2V5LnRvU3RyaW5nKFwiaGV4XCIsIDY0KSwgZCwgV0VCQVVUSE5fREVWSUNFX1NIQVJFKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFRvcnVzU2hhcmUobSwgd2ViQXV0aG5LZXlIZXgsIHdlYkF1dGhuUmVmSGV4LCBzdWJzcGFjZSkge1xuICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0QW5kRGVjcnlwdERhdGEobSwgd2ViQXV0aG5SZWZIZXgsIFdFQkFVVEhOX1RPUlVTX1NIQVJFKTtcbiAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZW5jUGFyYW1zSGV4ID0gZGF0YVtzdWJzcGFjZV07XG4gIGlmICghZW5jUGFyYW1zSGV4KSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZW5jUGFyYW1zID0gZW5jUGFyYW1zSGV4VG9CdWYoZW5jUGFyYW1zSGV4KTtcbiAgY29uc3Qga2V5UGFpciA9IGVjLmtleUZyb21Qcml2YXRlKHdlYkF1dGhuS2V5SGV4KTtcbiAgY29uc3QgcHJpdktleSA9IGtleVBhaXIuZ2V0UHJpdmF0ZSgpO1xuICBjb25zdCBzZXJpYWxpemVkU3Vic3BhY2VEYXRhQnVmID0gYXdhaXQgZGVjcnlwdChCdWZmZXIuZnJvbShwcml2S2V5LnRvU3RyaW5nKFwiaGV4XCIsIDY0KSwgXCJoZXhcIiksIGVuY1BhcmFtcyk7XG4gIGNvbnN0IHNlcmlhbGl6ZWRTdWJzcGFjZURhdGEgPSBzZXJpYWxpemVkU3Vic3BhY2VEYXRhQnVmLnRvU3RyaW5nKFwidXRmLThcIik7XG4gIGNvbnN0IHN1YnNwYWNlRGF0YSA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZFN1YnNwYWNlRGF0YSk7XG4gIHJldHVybiBzdWJzcGFjZURhdGE7XG59XG5hc3luYyBmdW5jdGlvbiBnZXREZXZpY2VTaGFyZShtLCB3ZWJBdXRoblJlZkhleCwgc3Vic3BhY2UpIHtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGdldEFuZERlY3J5cHREYXRhKG0sIHdlYkF1dGhuUmVmSGV4LCBXRUJBVVRITl9ERVZJQ0VfU0hBUkUpO1xuICBpZiAoZGF0YSkgcmV0dXJuIGRhdGFbc3Vic3BhY2VdO1xuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgZGVjcnlwdERhdGEsIGVuY1BhcmFtc0J1ZlRvSGV4LCBlbmNQYXJhbXNIZXhUb0J1ZiwgZW5jcnlwdEFuZFNldERhdGEsIGVuY3J5cHREYXRhLCBnZXRBbmREZWNyeXB0RGF0YSwgZ2V0RGV2aWNlU2hhcmUsIGdldFRvcnVzU2hhcmUsIHNldERldmljZVNoYXJlLCBzZXRUb3J1c1NoYXJlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/webAuthnShareResolver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/SecurePubSub.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/SecurePubSub.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SecurePubSub: () => (/* binding */ SecurePubSub)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toruslabs_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/constants */ \"(ssr)/./node_modules/@toruslabs/constants/dist/lib.esm/constants.js\");\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/lib.esm/index.js\");\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/utils.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/webAuthnShareResolver.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var _log_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./log.js */ \"(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/log.js\");\n\n\n\n\n\n\n\n\nclass SecurePubSub {\n  constructor(options = {}) {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"options\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"SOCKET_CONN\", null);\n    this.options = options;\n    this.options.timeout = options.timeout || 600; // 10 mins is default timeout\n    this.options.serverUrl = options.serverUrl || _toruslabs_constants__WEBPACK_IMPORTED_MODULE_2__.SESSION_SERVER_API_URL;\n    this.options.socketUrl = options.socketUrl || _toruslabs_constants__WEBPACK_IMPORTED_MODULE_2__.SESSION_SERVER_SOCKET_URL;\n    this.options.enableLogging = options.enableLogging || false;\n    this.options.namespace = options.namespace || \"\";\n    this.options.sameIpCheck = options.sameIpCheck || false;\n    this.options.sameOriginCheck = options.sameOriginCheck || false;\n    if (this.options.enableLogging) _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].enableAll();else _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].disableAll();\n  }\n  static setLogLevel(level) {\n    _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setLevel(level);\n    (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_4__.setLogLevel)(level);\n  }\n  async publish(topic, message) {\n    const topicPrivKey = (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.keccak256)(Buffer.from(topic, \"utf8\"));\n    const encryptedData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__.encryptData)(topicPrivKey.toString(\"hex\"), message);\n    const signature = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_7__.sign)(topicPrivKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.keccak256)(Buffer.from(encryptedData, \"utf8\")));\n    const fetchBody = {\n      key: (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_7__.getPublic)(topicPrivKey).toString(\"hex\"),\n      // already padded\n      data: encryptedData,\n      signature: signature.toString(\"hex\"),\n      timeout: this.options.timeout,\n      namespace: this.options.namespace,\n      sameIpCheck: this.options.sameIpCheck,\n      sameOriginCheck: this.options.sameOriginCheck\n    };\n    return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_4__.post)(`${this.options.serverUrl}/channel/set`, fetchBody);\n  }\n  async subscribe(topic) {\n    let isPromisePending = true;\n    const topicPrivKey = (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.keccak256)(Buffer.from(topic, \"utf8\"));\n    const topicPubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_7__.getPublic)(topicPrivKey).toString(\"hex\"); // already padded\n    const currentSocketConnection = this.getSocketConnection();\n    if (currentSocketConnection.connected) {\n      _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"already connected with socket\");\n      currentSocketConnection.emit(\"check_auth_status\", topicPubKey, {\n        namespace: this.options.namespace,\n        sameIpCheck: this.options.sameIpCheck,\n        sameOriginCheck: this.options.sameOriginCheck\n      });\n    } else {\n      currentSocketConnection.once(\"connect\", () => {\n        _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"connected with socket\");\n        currentSocketConnection.emit(\"check_auth_status\", topicPubKey, {\n          namespace: this.options.namespace,\n          sameIpCheck: this.options.sameIpCheck,\n          sameOriginCheck: this.options.sameOriginCheck\n        });\n      });\n    }\n    const reconnect = () => {\n      currentSocketConnection.once(\"connect\", async () => {\n        _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"connected with socket using reconnect\");\n        if (isPromisePending) currentSocketConnection.emit(\"check_auth_status\", topicPubKey, {\n          namespace: this.options.namespace,\n          sameIpCheck: this.options.sameIpCheck,\n          sameOriginCheck: this.options.sameOriginCheck\n        });\n      });\n    };\n    const visibilityListener = () => {\n      if (!isPromisePending) document.removeEventListener(\"visibilitychange\", visibilityListener);\n      // if not connected, then wait for connection and ping server for latest msg.\n      if (!currentSocketConnection.connected && document.visibilityState === \"visible\") {\n        reconnect();\n      }\n    };\n    const disconnectListener = () => {\n      _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"socket disconnected\", isPromisePending);\n      if (isPromisePending) {\n        _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"socket disconnected unexpectedly, reconnecting socket\");\n        reconnect();\n      } else {\n        currentSocketConnection.removeListener(\"disconnect\", disconnectListener);\n      }\n    };\n    currentSocketConnection.on(\"disconnect\", disconnectListener);\n    const returnPromise = new Promise((resolve, reject) => {\n      const listener = async ev => {\n        try {\n          const decData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__.decryptData)(topicPrivKey.toString(\"hex\"), ev);\n          _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].info(\"got data\", decData);\n          resolve(decData);\n        } catch (error) {\n          _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(error);\n          reject(error);\n        } finally {\n          isPromisePending = false;\n          document.removeEventListener(\"visibilitychange\", visibilityListener);\n        }\n      };\n      _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].info(\"listening to\", `${topicPubKey}_success`);\n      currentSocketConnection.once(`${topicPubKey}_success`, listener);\n    });\n    if (typeof document !== \"undefined\") document.addEventListener(\"visibilitychange\", visibilityListener);\n    return returnPromise;\n  }\n  cleanup() {\n    if (this.SOCKET_CONN) {\n      this.SOCKET_CONN.disconnect();\n      this.SOCKET_CONN = null;\n    }\n  }\n  getSocketConnection() {\n    if (this.SOCKET_CONN) return this.SOCKET_CONN;\n    const localSocketConnection = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_1__.io)(this.options.socketUrl, {\n      transports: [\"websocket\", \"polling\"],\n      // use WebSocket first, if available\n      withCredentials: true,\n      reconnectionDelayMax: 10000,\n      reconnectionAttempts: 10\n    });\n    localSocketConnection.on(\"connect_error\", err => {\n      // revert to classic upgrade\n      localSocketConnection.io.opts.transports = [\"polling\", \"websocket\"];\n      _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"connect error\", err);\n    });\n    localSocketConnection.on(\"connect\", async () => {\n      const {\n        engine\n      } = localSocketConnection.io;\n      _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"initially connected to\", engine.transport.name); // in most cases, prints \"polling\"\n      engine.once(\"upgrade\", () => {\n        // called when the transport is upgraded (i.e. from HTTP long-polling to WebSocket)\n        _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"upgraded\", engine.transport.name); // in most cases, prints \"websocket\"\n      });\n      engine.once(\"close\", reason => {\n        // called when the underlying connection is closed\n        _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].debug(\"connection closed\", reason);\n      });\n    });\n    localSocketConnection.on(\"error\", err => {\n      _log_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"socket errored\", err);\n      localSocketConnection.disconnect();\n    });\n    this.SOCKET_CONN = localSocketConnection;\n    return this.SOCKET_CONN;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZWN1cmUtcHViLXN1Yi9kaXN0L2xpYi5lc20vU2VjdXJlUHViU3ViLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBb0U7QUFDcUI7QUFDbkM7QUFDTTtBQUNzQjtBQUM1QztBQUNYOztBQUUzQjtBQUNBLDBCQUEwQjtBQUMxQixJQUFJLDRFQUFlO0FBQ25CLElBQUksNEVBQWU7QUFDbkI7QUFDQSxtREFBbUQ7QUFDbkQsa0RBQWtELHdFQUFzQjtBQUN4RSxrREFBa0QsMkVBQXlCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLCtDQUFHLGFBQWEsS0FBSywrQ0FBRztBQUM1RDtBQUNBO0FBQ0EsSUFBSSwrQ0FBRztBQUNQLElBQUksb0VBQVc7QUFDZjtBQUNBO0FBQ0EseUJBQXlCLHNFQUFTO0FBQ2xDLGdDQUFnQyx3RUFBVztBQUMzQyw0QkFBNEIseURBQUksZUFBZSxzRUFBUztBQUN4RDtBQUNBLFdBQVcsOERBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkRBQUksSUFBSSx1QkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNFQUFTO0FBQ2xDLHdCQUF3Qiw4REFBUyxnQ0FBZ0M7QUFDakU7QUFDQTtBQUNBLE1BQU0sK0NBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSxRQUFRLCtDQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQ0FBRztBQUNUO0FBQ0EsUUFBUSwrQ0FBRztBQUNYO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUFXO0FBQzNDLFVBQVUsK0NBQUc7QUFDYjtBQUNBLFVBQVU7QUFDVixVQUFVLCtDQUFHO0FBQ2I7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtDQUFHLHlCQUF5QixZQUFZO0FBQzlDLHNDQUFzQyxZQUFZO0FBQ2xELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG9EQUFFO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQ0FBRztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsTUFBTSwrQ0FBRyx5REFBeUQ7QUFDbEU7QUFDQTtBQUNBLFFBQVEsK0NBQUcsMkNBQTJDO0FBQ3RELE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUSwrQ0FBRztBQUNYLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxNQUFNLCtDQUFHO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZWN1cmUtcHViLXN1Yi9kaXN0L2xpYi5lc20vU2VjdXJlUHViU3ViLmpzPzQ2NmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCB7IFNFU1NJT05fU0VSVkVSX0FQSV9VUkwsIFNFU1NJT05fU0VSVkVSX1NPQ0tFVF9VUkwgfSBmcm9tICdAdG9ydXNsYWJzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzaWduLCBnZXRQdWJsaWMgfSBmcm9tICdAdG9ydXNsYWJzL2VjY3J5cHRvJztcbmltcG9ydCB7IHNldExvZ0xldmVsLCBwb3N0IH0gZnJvbSAnQHRvcnVzbGFicy9odHRwLWhlbHBlcnMnO1xuaW1wb3J0IHsga2VjY2FrMjU2LCBlbmNyeXB0RGF0YSwgZGVjcnlwdERhdGEgfSBmcm9tICdAdG9ydXNsYWJzL21ldGFkYXRhLWhlbHBlcnMnO1xuaW1wb3J0IHsgaW8gfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cuanMnO1xuXG5jbGFzcyBTZWN1cmVQdWJTdWIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcHRpb25zXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiU09DS0VUX0NPTk5cIiwgbnVsbCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLm9wdGlvbnMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCA2MDA7IC8vIDEwIG1pbnMgaXMgZGVmYXVsdCB0aW1lb3V0XG4gICAgdGhpcy5vcHRpb25zLnNlcnZlclVybCA9IG9wdGlvbnMuc2VydmVyVXJsIHx8IFNFU1NJT05fU0VSVkVSX0FQSV9VUkw7XG4gICAgdGhpcy5vcHRpb25zLnNvY2tldFVybCA9IG9wdGlvbnMuc29ja2V0VXJsIHx8IFNFU1NJT05fU0VSVkVSX1NPQ0tFVF9VUkw7XG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZUxvZ2dpbmcgPSBvcHRpb25zLmVuYWJsZUxvZ2dpbmcgfHwgZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zLm5hbWVzcGFjZSA9IG9wdGlvbnMubmFtZXNwYWNlIHx8IFwiXCI7XG4gICAgdGhpcy5vcHRpb25zLnNhbWVJcENoZWNrID0gb3B0aW9ucy5zYW1lSXBDaGVjayB8fCBmYWxzZTtcbiAgICB0aGlzLm9wdGlvbnMuc2FtZU9yaWdpbkNoZWNrID0gb3B0aW9ucy5zYW1lT3JpZ2luQ2hlY2sgfHwgZmFsc2U7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVMb2dnaW5nKSBsb2cuZW5hYmxlQWxsKCk7ZWxzZSBsb2cuZGlzYWJsZUFsbCgpO1xuICB9XG4gIHN0YXRpYyBzZXRMb2dMZXZlbChsZXZlbCkge1xuICAgIGxvZy5zZXRMZXZlbChsZXZlbCk7XG4gICAgc2V0TG9nTGV2ZWwobGV2ZWwpO1xuICB9XG4gIGFzeW5jIHB1Ymxpc2godG9waWMsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCB0b3BpY1ByaXZLZXkgPSBrZWNjYWsyNTYoQnVmZmVyLmZyb20odG9waWMsIFwidXRmOFwiKSk7XG4gICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IGF3YWl0IGVuY3J5cHREYXRhKHRvcGljUHJpdktleS50b1N0cmluZyhcImhleFwiKSwgbWVzc2FnZSk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgc2lnbih0b3BpY1ByaXZLZXksIGtlY2NhazI1NihCdWZmZXIuZnJvbShlbmNyeXB0ZWREYXRhLCBcInV0ZjhcIikpKTtcbiAgICBjb25zdCBmZXRjaEJvZHkgPSB7XG4gICAgICBrZXk6IGdldFB1YmxpYyh0b3BpY1ByaXZLZXkpLnRvU3RyaW5nKFwiaGV4XCIpLFxuICAgICAgLy8gYWxyZWFkeSBwYWRkZWRcbiAgICAgIGRhdGE6IGVuY3J5cHRlZERhdGEsXG4gICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZS50b1N0cmluZyhcImhleFwiKSxcbiAgICAgIHRpbWVvdXQ6IHRoaXMub3B0aW9ucy50aW1lb3V0LFxuICAgICAgbmFtZXNwYWNlOiB0aGlzLm9wdGlvbnMubmFtZXNwYWNlLFxuICAgICAgc2FtZUlwQ2hlY2s6IHRoaXMub3B0aW9ucy5zYW1lSXBDaGVjayxcbiAgICAgIHNhbWVPcmlnaW5DaGVjazogdGhpcy5vcHRpb25zLnNhbWVPcmlnaW5DaGVja1xuICAgIH07XG4gICAgcmV0dXJuIHBvc3QoYCR7dGhpcy5vcHRpb25zLnNlcnZlclVybH0vY2hhbm5lbC9zZXRgLCBmZXRjaEJvZHkpO1xuICB9XG4gIGFzeW5jIHN1YnNjcmliZSh0b3BpYykge1xuICAgIGxldCBpc1Byb21pc2VQZW5kaW5nID0gdHJ1ZTtcbiAgICBjb25zdCB0b3BpY1ByaXZLZXkgPSBrZWNjYWsyNTYoQnVmZmVyLmZyb20odG9waWMsIFwidXRmOFwiKSk7XG4gICAgY29uc3QgdG9waWNQdWJLZXkgPSBnZXRQdWJsaWModG9waWNQcml2S2V5KS50b1N0cmluZyhcImhleFwiKTsgLy8gYWxyZWFkeSBwYWRkZWRcbiAgICBjb25zdCBjdXJyZW50U29ja2V0Q29ubmVjdGlvbiA9IHRoaXMuZ2V0U29ja2V0Q29ubmVjdGlvbigpO1xuICAgIGlmIChjdXJyZW50U29ja2V0Q29ubmVjdGlvbi5jb25uZWN0ZWQpIHtcbiAgICAgIGxvZy5kZWJ1ZyhcImFscmVhZHkgY29ubmVjdGVkIHdpdGggc29ja2V0XCIpO1xuICAgICAgY3VycmVudFNvY2tldENvbm5lY3Rpb24uZW1pdChcImNoZWNrX2F1dGhfc3RhdHVzXCIsIHRvcGljUHViS2V5LCB7XG4gICAgICAgIG5hbWVzcGFjZTogdGhpcy5vcHRpb25zLm5hbWVzcGFjZSxcbiAgICAgICAgc2FtZUlwQ2hlY2s6IHRoaXMub3B0aW9ucy5zYW1lSXBDaGVjayxcbiAgICAgICAgc2FtZU9yaWdpbkNoZWNrOiB0aGlzLm9wdGlvbnMuc2FtZU9yaWdpbkNoZWNrXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFNvY2tldENvbm5lY3Rpb24ub25jZShcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICBsb2cuZGVidWcoXCJjb25uZWN0ZWQgd2l0aCBzb2NrZXRcIik7XG4gICAgICAgIGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLmVtaXQoXCJjaGVja19hdXRoX3N0YXR1c1wiLCB0b3BpY1B1YktleSwge1xuICAgICAgICAgIG5hbWVzcGFjZTogdGhpcy5vcHRpb25zLm5hbWVzcGFjZSxcbiAgICAgICAgICBzYW1lSXBDaGVjazogdGhpcy5vcHRpb25zLnNhbWVJcENoZWNrLFxuICAgICAgICAgIHNhbWVPcmlnaW5DaGVjazogdGhpcy5vcHRpb25zLnNhbWVPcmlnaW5DaGVja1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZWNvbm5lY3QgPSAoKSA9PiB7XG4gICAgICBjdXJyZW50U29ja2V0Q29ubmVjdGlvbi5vbmNlKFwiY29ubmVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcImNvbm5lY3RlZCB3aXRoIHNvY2tldCB1c2luZyByZWNvbm5lY3RcIik7XG4gICAgICAgIGlmIChpc1Byb21pc2VQZW5kaW5nKSBjdXJyZW50U29ja2V0Q29ubmVjdGlvbi5lbWl0KFwiY2hlY2tfYXV0aF9zdGF0dXNcIiwgdG9waWNQdWJLZXksIHtcbiAgICAgICAgICBuYW1lc3BhY2U6IHRoaXMub3B0aW9ucy5uYW1lc3BhY2UsXG4gICAgICAgICAgc2FtZUlwQ2hlY2s6IHRoaXMub3B0aW9ucy5zYW1lSXBDaGVjayxcbiAgICAgICAgICBzYW1lT3JpZ2luQ2hlY2s6IHRoaXMub3B0aW9ucy5zYW1lT3JpZ2luQ2hlY2tcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHZpc2liaWxpdHlMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGlmICghaXNQcm9taXNlUGVuZGluZykgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdmlzaWJpbGl0eUxpc3RlbmVyKTtcbiAgICAgIC8vIGlmIG5vdCBjb25uZWN0ZWQsIHRoZW4gd2FpdCBmb3IgY29ubmVjdGlvbiBhbmQgcGluZyBzZXJ2ZXIgZm9yIGxhdGVzdCBtc2cuXG4gICAgICBpZiAoIWN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLmNvbm5lY3RlZCAmJiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgIHJlY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZGlzY29ubmVjdExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgbG9nLmRlYnVnKFwic29ja2V0IGRpc2Nvbm5lY3RlZFwiLCBpc1Byb21pc2VQZW5kaW5nKTtcbiAgICAgIGlmIChpc1Byb21pc2VQZW5kaW5nKSB7XG4gICAgICAgIGxvZy5lcnJvcihcInNvY2tldCBkaXNjb25uZWN0ZWQgdW5leHBlY3RlZGx5LCByZWNvbm5lY3Rpbmcgc29ja2V0XCIpO1xuICAgICAgICByZWNvbm5lY3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLnJlbW92ZUxpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBkaXNjb25uZWN0TGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH07XG4gICAgY3VycmVudFNvY2tldENvbm5lY3Rpb24ub24oXCJkaXNjb25uZWN0XCIsIGRpc2Nvbm5lY3RMaXN0ZW5lcik7XG4gICAgY29uc3QgcmV0dXJuUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gYXN5bmMgZXYgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRlY0RhdGEgPSBhd2FpdCBkZWNyeXB0RGF0YSh0b3BpY1ByaXZLZXkudG9TdHJpbmcoXCJoZXhcIiksIGV2KTtcbiAgICAgICAgICBsb2cuaW5mbyhcImdvdCBkYXRhXCIsIGRlY0RhdGEpO1xuICAgICAgICAgIHJlc29sdmUoZGVjRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzUHJvbWlzZVBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB2aXNpYmlsaXR5TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbG9nLmluZm8oXCJsaXN0ZW5pbmcgdG9cIiwgYCR7dG9waWNQdWJLZXl9X3N1Y2Nlc3NgKTtcbiAgICAgIGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLm9uY2UoYCR7dG9waWNQdWJLZXl9X3N1Y2Nlc3NgLCBsaXN0ZW5lcik7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdmlzaWJpbGl0eUxpc3RlbmVyKTtcbiAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgfVxuICBjbGVhbnVwKCkge1xuICAgIGlmICh0aGlzLlNPQ0tFVF9DT05OKSB7XG4gICAgICB0aGlzLlNPQ0tFVF9DT05OLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuU09DS0VUX0NPTk4gPSBudWxsO1xuICAgIH1cbiAgfVxuICBnZXRTb2NrZXRDb25uZWN0aW9uKCkge1xuICAgIGlmICh0aGlzLlNPQ0tFVF9DT05OKSByZXR1cm4gdGhpcy5TT0NLRVRfQ09OTjtcbiAgICBjb25zdCBsb2NhbFNvY2tldENvbm5lY3Rpb24gPSBpbyh0aGlzLm9wdGlvbnMuc29ja2V0VXJsLCB7XG4gICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIiwgXCJwb2xsaW5nXCJdLFxuICAgICAgLy8gdXNlIFdlYlNvY2tldCBmaXJzdCwgaWYgYXZhaWxhYmxlXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICByZWNvbm5lY3Rpb25EZWxheU1heDogMTAwMDAsXG4gICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogMTBcbiAgICB9KTtcbiAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24ub24oXCJjb25uZWN0X2Vycm9yXCIsIGVyciA9PiB7XG4gICAgICAvLyByZXZlcnQgdG8gY2xhc3NpYyB1cGdyYWRlXG4gICAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24uaW8ub3B0cy50cmFuc3BvcnRzID0gW1wicG9sbGluZ1wiLCBcIndlYnNvY2tldFwiXTtcbiAgICAgIGxvZy5lcnJvcihcImNvbm5lY3QgZXJyb3JcIiwgZXJyKTtcbiAgICB9KTtcbiAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24ub24oXCJjb25uZWN0XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZW5naW5lXG4gICAgICB9ID0gbG9jYWxTb2NrZXRDb25uZWN0aW9uLmlvO1xuICAgICAgbG9nLmRlYnVnKFwiaW5pdGlhbGx5IGNvbm5lY3RlZCB0b1wiLCBlbmdpbmUudHJhbnNwb3J0Lm5hbWUpOyAvLyBpbiBtb3N0IGNhc2VzLCBwcmludHMgXCJwb2xsaW5nXCJcbiAgICAgIGVuZ2luZS5vbmNlKFwidXBncmFkZVwiLCAoKSA9PiB7XG4gICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgdXBncmFkZWQgKGkuZS4gZnJvbSBIVFRQIGxvbmctcG9sbGluZyB0byBXZWJTb2NrZXQpXG4gICAgICAgIGxvZy5kZWJ1ZyhcInVwZ3JhZGVkXCIsIGVuZ2luZS50cmFuc3BvcnQubmFtZSk7IC8vIGluIG1vc3QgY2FzZXMsIHByaW50cyBcIndlYnNvY2tldFwiXG4gICAgICB9KTtcbiAgICAgIGVuZ2luZS5vbmNlKFwiY2xvc2VcIiwgcmVhc29uID0+IHtcbiAgICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvbiBpcyBjbG9zZWRcbiAgICAgICAgbG9nLmRlYnVnKFwiY29ubmVjdGlvbiBjbG9zZWRcIiwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGxvY2FsU29ja2V0Q29ubmVjdGlvbi5vbihcImVycm9yXCIsIGVyciA9PiB7XG4gICAgICBsb2cuZXJyb3IoXCJzb2NrZXQgZXJyb3JlZFwiLCBlcnIpO1xuICAgICAgbG9jYWxTb2NrZXRDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcbiAgICB0aGlzLlNPQ0tFVF9DT05OID0gbG9jYWxTb2NrZXRDb25uZWN0aW9uO1xuICAgIHJldHVybiB0aGlzLlNPQ0tFVF9DT05OO1xuICB9XG59XG5cbmV4cG9ydCB7IFNlY3VyZVB1YlN1YiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/SecurePubSub.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/log.js":
/*!********************************************************************!*\
  !*** ./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/log.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ log)\n/* harmony export */ });\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_0___default().getLogger(\"SecurePubSub\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZWN1cmUtcHViLXN1Yi9kaXN0L2xpYi5lc20vbG9nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2Qjs7QUFFN0IsVUFBVSx5REFBZTs7QUFFQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dhc3RlLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvc2VjdXJlLXB1Yi1zdWIvZGlzdC9saWIuZXNtL2xvZy5qcz82NGEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2ckMSBmcm9tICdsb2dsZXZlbCc7XG5cbnZhciBsb2cgPSBsb2ckMS5nZXRMb2dnZXIoXCJTZWN1cmVQdWJTdWJcIik7XG5cbmV4cG9ydCB7IGxvZyBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/log.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/base.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@toruslabs/session-manager/dist/lib.esm/base.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseSessionManager: () => (/* binding */ BaseSessionManager)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/util.js\");\n\n\n\n\nclass BaseSessionManager {\n  constructor() {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionId\", void 0);\n  }\n  checkSessionParams() {\n    if (!this.sessionId) throw new Error(\"Session id is required\");\n    this.sessionId = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.padHexString)(this.sessionId);\n  }\n\n  /**\n   * Common handler method for making an http request.\n   *\n   * Note: Embed all the query parameters in the path itself.\n   */\n  request({\n    method = \"GET\",\n    url,\n    data = {},\n    headers = {}\n  }) {\n    const options = {\n      headers\n    };\n    switch (method) {\n      case \"GET\":\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.get)(url, options);\n      case \"POST\":\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.post)(url, data, options);\n      case \"PUT\":\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.put)(url, data, options);\n      case \"PATCH\":\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.patch)(url, data, options);\n    }\n    throw new Error(\"Invalid method type\");\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZXNzaW9uLW1hbmFnZXIvZGlzdC9saWIuZXNtL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0U7QUFDSjtBQUN2Qjs7QUFFekM7QUFDQTtBQUNBLElBQUksNEVBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNEQUFZO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQUc7QUFDbEI7QUFDQSxlQUFlLDZEQUFJO0FBQ25CO0FBQ0EsZUFBZSw0REFBRztBQUNsQjtBQUNBLGVBQWUsOERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZXNzaW9uLW1hbmFnZXIvZGlzdC9saWIuZXNtL2Jhc2UuanM/MjZmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgcGF0Y2gsIHB1dCwgcG9zdCwgZ2V0IH0gZnJvbSAnQHRvcnVzbGFicy9odHRwLWhlbHBlcnMnO1xuaW1wb3J0IHsgcGFkSGV4U3RyaW5nIH0gZnJvbSAnLi91dGlsLmpzJztcblxuY2xhc3MgQmFzZVNlc3Npb25NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2Vzc2lvbklkXCIsIHZvaWQgMCk7XG4gIH1cbiAgY2hlY2tTZXNzaW9uUGFyYW1zKCkge1xuICAgIGlmICghdGhpcy5zZXNzaW9uSWQpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gaWQgaXMgcmVxdWlyZWRcIik7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBwYWRIZXhTdHJpbmcodGhpcy5zZXNzaW9uSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbW1vbiBoYW5kbGVyIG1ldGhvZCBmb3IgbWFraW5nIGFuIGh0dHAgcmVxdWVzdC5cbiAgICpcbiAgICogTm90ZTogRW1iZWQgYWxsIHRoZSBxdWVyeSBwYXJhbWV0ZXJzIGluIHRoZSBwYXRoIGl0c2VsZi5cbiAgICovXG4gIHJlcXVlc3Qoe1xuICAgIG1ldGhvZCA9IFwiR0VUXCIsXG4gICAgdXJsLFxuICAgIGRhdGEgPSB7fSxcbiAgICBoZWFkZXJzID0ge31cbiAgfSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBoZWFkZXJzXG4gICAgfTtcbiAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgY2FzZSBcIkdFVFwiOlxuICAgICAgICByZXR1cm4gZ2V0KHVybCwgb3B0aW9ucyk7XG4gICAgICBjYXNlIFwiUE9TVFwiOlxuICAgICAgICByZXR1cm4gcG9zdCh1cmwsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgY2FzZSBcIlBVVFwiOlxuICAgICAgICByZXR1cm4gcHV0KHVybCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICBjYXNlIFwiUEFUQ0hcIjpcbiAgICAgICAgcmV0dXJuIHBhdGNoKHVybCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWV0aG9kIHR5cGVcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZVNlc3Npb25NYW5hZ2VyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/sessionManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@toruslabs/session-manager/dist/lib.esm/sessionManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionManager: () => (/* binding */ SessionManager)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toruslabs_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/constants */ \"(ssr)/./node_modules/@toruslabs/constants/dist/lib.esm/constants.js\");\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/lib.esm/index.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/webAuthnShareResolver.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/lib.esm/utils.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/base.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util.js */ \"(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/util.js\");\n\n\n\n\n\n\n\nconst DEFAULT_SESSION_TIMEOUT = 86400;\nclass SessionManager extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseSessionManager {\n  constructor({\n    sessionServerBaseUrl,\n    sessionNamespace,\n    sessionTime,\n    sessionId,\n    allowedOrigin\n  } = {}) {\n    super();\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionServerBaseUrl\", _toruslabs_constants__WEBPACK_IMPORTED_MODULE_2__.SESSION_SERVER_API_URL);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionNamespace\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"allowedOrigin\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionTime\", DEFAULT_SESSION_TIMEOUT);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionId\", \"\");\n    if (sessionServerBaseUrl) {\n      this.sessionServerBaseUrl = sessionServerBaseUrl;\n    }\n    if (sessionNamespace) this.sessionNamespace = sessionNamespace;\n    if (sessionTime) this.sessionTime = sessionTime;\n    if (sessionId) this.sessionId = (0,_util_js__WEBPACK_IMPORTED_MODULE_3__.padHexString)(sessionId);\n    if (allowedOrigin) {\n      this.allowedOrigin = allowedOrigin;\n    } else {\n      this.allowedOrigin = \"*\";\n    }\n  }\n  static generateRandomSessionKey() {\n    return (0,_util_js__WEBPACK_IMPORTED_MODULE_3__.padHexString)((0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.generatePrivate)().toString(\"hex\"));\n  }\n  async createSession(data, headers = {}) {\n    super.checkSessionParams();\n    const privKey = Buffer.from(this.sessionId, \"hex\");\n    const pubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.getPublic)(privKey).toString(\"hex\");\n    const encData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.encryptData)(this.sessionId, data);\n    const signature = (await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.sign)(privKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__.keccak256)(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n    const body = {\n      key: pubKey,\n      data: encData,\n      signature,\n      namespace: this.sessionNamespace,\n      timeout: this.sessionTime,\n      allowedOrigin: this.allowedOrigin\n    };\n    await super.request({\n      method: \"POST\",\n      url: `${this.sessionServerBaseUrl}/v2/store/set`,\n      data: body,\n      headers\n    });\n    return this.sessionId;\n  }\n  async authorizeSession({\n    headers\n  } = {\n    headers: {}\n  }) {\n    super.checkSessionParams();\n    const pubkey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.getPublic)(Buffer.from(this.sessionId, \"hex\")).toString(\"hex\");\n    const body = {\n      key: pubkey,\n      namespace: this.sessionNamespace\n    };\n    const result = await super.request({\n      method: \"POST\",\n      url: `${this.sessionServerBaseUrl}/v2/store/get`,\n      data: body,\n      headers\n    });\n    if (!result.message) {\n      throw new Error(\"Session Expired or Invalid public key\");\n    }\n    const response = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.decryptData)(this.sessionId, result.message);\n    if (response.error) {\n      throw new Error(\"There was an error decrypting data.\");\n    }\n    return response;\n  }\n  async updateSession(data, headers = {}) {\n    super.checkSessionParams();\n    const privKey = Buffer.from(this.sessionId, \"hex\");\n    const pubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.getPublic)(privKey).toString(\"hex\");\n    const encData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.encryptData)(this.sessionId, data);\n    const signature = (await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.sign)(privKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__.keccak256)(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n    const body = {\n      key: pubKey,\n      data: encData,\n      signature,\n      namespace: this.sessionNamespace,\n      allowedOrigin: this.allowedOrigin\n    };\n    await super.request({\n      method: \"PUT\",\n      url: `${this.sessionServerBaseUrl}/v2/store/update`,\n      data: body,\n      headers\n    });\n  }\n  async invalidateSession(headers = {}) {\n    super.checkSessionParams();\n    const privKey = Buffer.from(this.sessionId, \"hex\");\n    const pubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.getPublic)(privKey).toString(\"hex\");\n    const encData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_5__.encryptData)(this.sessionId, {});\n    const signature = (await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_4__.sign)(privKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_6__.keccak256)(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n    const data = {\n      key: pubKey,\n      data: encData,\n      signature,\n      namespace: this.sessionNamespace,\n      timeout: 1\n    };\n    await super.request({\n      method: \"POST\",\n      url: `${this.sessionServerBaseUrl}/v2/store/set`,\n      data,\n      headers\n    });\n    this.sessionId = \"\";\n    return true;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZXNzaW9uLW1hbmFnZXIvZGlzdC9saWIuZXNtL3Nlc3Npb25NYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFvRTtBQUNOO0FBQ1M7QUFDVztBQUNuQztBQUNOOztBQUV6QztBQUNBLDZCQUE2Qix3REFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSxJQUFJLDRFQUFlLCtCQUErQix3RUFBc0I7QUFDeEUsSUFBSSw0RUFBZTtBQUNuQixJQUFJLDRFQUFlO0FBQ25CLElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNEQUFZO0FBQ2hEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNEQUFZLENBQUMsb0VBQWU7QUFDdkM7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBLG1CQUFtQiw4REFBUztBQUM1QiwwQkFBMEIsd0VBQVc7QUFDckMsNkJBQTZCLHlEQUFJLFVBQVUsc0VBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0EsbUJBQW1CLDhEQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMEJBQTBCO0FBQ3hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdFQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBLG1CQUFtQiw4REFBUztBQUM1QiwwQkFBMEIsd0VBQVc7QUFDckMsNkJBQTZCLHlEQUFJLFVBQVUsc0VBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwQkFBMEI7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsbUJBQW1CLDhEQUFTO0FBQzVCLDBCQUEwQix3RUFBVyxtQkFBbUI7QUFDeEQsNkJBQTZCLHlEQUFJLFVBQVUsc0VBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwQkFBMEI7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL3Nlc3Npb24tbWFuYWdlci9kaXN0L2xpYi5lc20vc2Vzc2lvbk1hbmFnZXIuanM/MjJlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgU0VTU0lPTl9TRVJWRVJfQVBJX1VSTCB9IGZyb20gJ0B0b3J1c2xhYnMvY29uc3RhbnRzJztcbmltcG9ydCB7IGdlbmVyYXRlUHJpdmF0ZSwgZ2V0UHVibGljLCBzaWduIH0gZnJvbSAnQHRvcnVzbGFicy9lY2NyeXB0byc7XG5pbXBvcnQgeyBlbmNyeXB0RGF0YSwga2VjY2FrMjU2LCBkZWNyeXB0RGF0YSB9IGZyb20gJ0B0b3J1c2xhYnMvbWV0YWRhdGEtaGVscGVycyc7XG5pbXBvcnQgeyBCYXNlU2Vzc2lvbk1hbmFnZXIgfSBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IHsgcGFkSGV4U3RyaW5nIH0gZnJvbSAnLi91dGlsLmpzJztcblxuY29uc3QgREVGQVVMVF9TRVNTSU9OX1RJTUVPVVQgPSA4NjQwMDtcbmNsYXNzIFNlc3Npb25NYW5hZ2VyIGV4dGVuZHMgQmFzZVNlc3Npb25NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHNlc3Npb25TZXJ2ZXJCYXNlVXJsLFxuICAgIHNlc3Npb25OYW1lc3BhY2UsXG4gICAgc2Vzc2lvblRpbWUsXG4gICAgc2Vzc2lvbklkLFxuICAgIGFsbG93ZWRPcmlnaW5cbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uU2VydmVyQmFzZVVybFwiLCBTRVNTSU9OX1NFUlZFUl9BUElfVVJMKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uTmFtZXNwYWNlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYWxsb3dlZE9yaWdpblwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25UaW1lXCIsIERFRkFVTFRfU0VTU0lPTl9USU1FT1VUKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uSWRcIiwgXCJcIik7XG4gICAgaWYgKHNlc3Npb25TZXJ2ZXJCYXNlVXJsKSB7XG4gICAgICB0aGlzLnNlc3Npb25TZXJ2ZXJCYXNlVXJsID0gc2Vzc2lvblNlcnZlckJhc2VVcmw7XG4gICAgfVxuICAgIGlmIChzZXNzaW9uTmFtZXNwYWNlKSB0aGlzLnNlc3Npb25OYW1lc3BhY2UgPSBzZXNzaW9uTmFtZXNwYWNlO1xuICAgIGlmIChzZXNzaW9uVGltZSkgdGhpcy5zZXNzaW9uVGltZSA9IHNlc3Npb25UaW1lO1xuICAgIGlmIChzZXNzaW9uSWQpIHRoaXMuc2Vzc2lvbklkID0gcGFkSGV4U3RyaW5nKHNlc3Npb25JZCk7XG4gICAgaWYgKGFsbG93ZWRPcmlnaW4pIHtcbiAgICAgIHRoaXMuYWxsb3dlZE9yaWdpbiA9IGFsbG93ZWRPcmlnaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWxsb3dlZE9yaWdpbiA9IFwiKlwiO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgZ2VuZXJhdGVSYW5kb21TZXNzaW9uS2V5KCkge1xuICAgIHJldHVybiBwYWRIZXhTdHJpbmcoZ2VuZXJhdGVQcml2YXRlKCkudG9TdHJpbmcoXCJoZXhcIikpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZVNlc3Npb24oZGF0YSwgaGVhZGVycyA9IHt9KSB7XG4gICAgc3VwZXIuY2hlY2tTZXNzaW9uUGFyYW1zKCk7XG4gICAgY29uc3QgcHJpdktleSA9IEJ1ZmZlci5mcm9tKHRoaXMuc2Vzc2lvbklkLCBcImhleFwiKTtcbiAgICBjb25zdCBwdWJLZXkgPSBnZXRQdWJsaWMocHJpdktleSkudG9TdHJpbmcoXCJoZXhcIik7XG4gICAgY29uc3QgZW5jRGF0YSA9IGF3YWl0IGVuY3J5cHREYXRhKHRoaXMuc2Vzc2lvbklkLCBkYXRhKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSAoYXdhaXQgc2lnbihwcml2S2V5LCBrZWNjYWsyNTYoQnVmZmVyLmZyb20oZW5jRGF0YSwgXCJ1dGY4XCIpKSkpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICBrZXk6IHB1YktleSxcbiAgICAgIGRhdGE6IGVuY0RhdGEsXG4gICAgICBzaWduYXR1cmUsXG4gICAgICBuYW1lc3BhY2U6IHRoaXMuc2Vzc2lvbk5hbWVzcGFjZSxcbiAgICAgIHRpbWVvdXQ6IHRoaXMuc2Vzc2lvblRpbWUsXG4gICAgICBhbGxvd2VkT3JpZ2luOiB0aGlzLmFsbG93ZWRPcmlnaW5cbiAgICB9O1xuICAgIGF3YWl0IHN1cGVyLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIHVybDogYCR7dGhpcy5zZXNzaW9uU2VydmVyQmFzZVVybH0vdjIvc3RvcmUvc2V0YCxcbiAgICAgIGRhdGE6IGJvZHksXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbklkO1xuICB9XG4gIGFzeW5jIGF1dGhvcml6ZVNlc3Npb24oe1xuICAgIGhlYWRlcnNcbiAgfSA9IHtcbiAgICBoZWFkZXJzOiB7fVxuICB9KSB7XG4gICAgc3VwZXIuY2hlY2tTZXNzaW9uUGFyYW1zKCk7XG4gICAgY29uc3QgcHVia2V5ID0gZ2V0UHVibGljKEJ1ZmZlci5mcm9tKHRoaXMuc2Vzc2lvbklkLCBcImhleFwiKSkudG9TdHJpbmcoXCJoZXhcIik7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGtleTogcHVia2V5LFxuICAgICAgbmFtZXNwYWNlOiB0aGlzLnNlc3Npb25OYW1lc3BhY2VcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIHVybDogYCR7dGhpcy5zZXNzaW9uU2VydmVyQmFzZVVybH0vdjIvc3RvcmUvZ2V0YCxcbiAgICAgIGRhdGE6IGJvZHksXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgaWYgKCFyZXN1bHQubWVzc2FnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBFeHBpcmVkIG9yIEludmFsaWQgcHVibGljIGtleVwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkZWNyeXB0RGF0YSh0aGlzLnNlc3Npb25JZCwgcmVzdWx0Lm1lc3NhZ2UpO1xuICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGRlY3J5cHRpbmcgZGF0YS5cIik7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuICBhc3luYyB1cGRhdGVTZXNzaW9uKGRhdGEsIGhlYWRlcnMgPSB7fSkge1xuICAgIHN1cGVyLmNoZWNrU2Vzc2lvblBhcmFtcygpO1xuICAgIGNvbnN0IHByaXZLZXkgPSBCdWZmZXIuZnJvbSh0aGlzLnNlc3Npb25JZCwgXCJoZXhcIik7XG4gICAgY29uc3QgcHViS2V5ID0gZ2V0UHVibGljKHByaXZLZXkpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIGNvbnN0IGVuY0RhdGEgPSBhd2FpdCBlbmNyeXB0RGF0YSh0aGlzLnNlc3Npb25JZCwgZGF0YSk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gKGF3YWl0IHNpZ24ocHJpdktleSwga2VjY2FrMjU2KEJ1ZmZlci5mcm9tKGVuY0RhdGEsIFwidXRmOFwiKSkpKS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAga2V5OiBwdWJLZXksXG4gICAgICBkYXRhOiBlbmNEYXRhLFxuICAgICAgc2lnbmF0dXJlLFxuICAgICAgbmFtZXNwYWNlOiB0aGlzLnNlc3Npb25OYW1lc3BhY2UsXG4gICAgICBhbGxvd2VkT3JpZ2luOiB0aGlzLmFsbG93ZWRPcmlnaW5cbiAgICB9O1xuICAgIGF3YWl0IHN1cGVyLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgdXJsOiBgJHt0aGlzLnNlc3Npb25TZXJ2ZXJCYXNlVXJsfS92Mi9zdG9yZS91cGRhdGVgLFxuICAgICAgZGF0YTogYm9keSxcbiAgICAgIGhlYWRlcnNcbiAgICB9KTtcbiAgfVxuICBhc3luYyBpbnZhbGlkYXRlU2Vzc2lvbihoZWFkZXJzID0ge30pIHtcbiAgICBzdXBlci5jaGVja1Nlc3Npb25QYXJhbXMoKTtcbiAgICBjb25zdCBwcml2S2V5ID0gQnVmZmVyLmZyb20odGhpcy5zZXNzaW9uSWQsIFwiaGV4XCIpO1xuICAgIGNvbnN0IHB1YktleSA9IGdldFB1YmxpYyhwcml2S2V5KS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCBlbmNEYXRhID0gYXdhaXQgZW5jcnlwdERhdGEodGhpcy5zZXNzaW9uSWQsIHt9KTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSAoYXdhaXQgc2lnbihwcml2S2V5LCBrZWNjYWsyNTYoQnVmZmVyLmZyb20oZW5jRGF0YSwgXCJ1dGY4XCIpKSkpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBrZXk6IHB1YktleSxcbiAgICAgIGRhdGE6IGVuY0RhdGEsXG4gICAgICBzaWduYXR1cmUsXG4gICAgICBuYW1lc3BhY2U6IHRoaXMuc2Vzc2lvbk5hbWVzcGFjZSxcbiAgICAgIHRpbWVvdXQ6IDFcbiAgICB9O1xuICAgIGF3YWl0IHN1cGVyLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIHVybDogYCR7dGhpcy5zZXNzaW9uU2VydmVyQmFzZVVybH0vdjIvc3RvcmUvc2V0YCxcbiAgICAgIGRhdGEsXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBcIlwiO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCB7IFNlc3Npb25NYW5hZ2VyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/sessionManager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/util.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@toruslabs/session-manager/dist/lib.esm/util.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   padHexString: () => (/* binding */ padHexString)\n/* harmony export */ });\nconst padHexString = hexString => {\n  return hexString.padStart(64, \"0\").slice(0, 64);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZXNzaW9uLW1hbmFnZXIvZGlzdC9saWIuZXNtL3V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXN0ZS8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL3Nlc3Npb24tbWFuYWdlci9kaXN0L2xpYi5lc20vdXRpbC5qcz84MmMwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhZEhleFN0cmluZyA9IGhleFN0cmluZyA9PiB7XG4gIHJldHVybiBoZXhTdHJpbmcucGFkU3RhcnQoNjQsIFwiMFwiKS5zbGljZSgwLCA2NCk7XG59O1xuXG5leHBvcnQgeyBwYWRIZXhTdHJpbmcgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/session-manager/dist/lib.esm/util.js\n");

/***/ })

};
;